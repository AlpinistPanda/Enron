
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{enron}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \section{Identifying Fraud From Enron
Dataset}\label{identifying-fraud-from-enron-dataset}

\subsection{Overview}\label{overview}

Enron Scandal is one of the biggest financial scandals happened in the
US which surfaced in 2001. It involves "a staff of executives that - by
the use of accounting loopholes, special purpose entities, and poor
financial reporting -- were able to hide billions of dollars in debt
from failed deals and projects"
https://en.wikipedia.org/wiki/Enron\_scandal. It eventually led to the
bankruptcy of Enron corporation and 40\$ billion lawsuit by
shareholders. In this project we will use machine learning methods on a
dataset coming from Enron from the time this scandal happened to find
out who was involved in this fraud.

    \subsubsection{Import statements}\label{import-statements}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k+kn}{import} \PY{n+nn}{sys}
        \PY{k+kn}{import} \PY{n+nn}{pickle}
        \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
        \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
        \PY{k+kn}{import} \PY{n+nn}{seaborn} \PY{k}{as} \PY{n+nn}{sns}
        
        \PY{n}{sys}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{../tools/}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        
        \PY{k+kn}{from} \PY{n+nn}{feature\PYZus{}format} \PY{k}{import} \PY{n}{featureFormat}\PY{p}{,} \PY{n}{targetFeatureSplit}
        \PY{c+c1}{\PYZsh{} from tester import dump\PYZus{}classifier\PYZus{}and\PYZus{}data}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}75}]:} \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{svm} \PY{k}{import} \PY{n}{SVC}
         \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{ensemble} \PY{k}{import} \PY{n}{AdaBoostClassifier}
         \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{naive\PYZus{}bayes} \PY{k}{import} \PY{n}{GaussianNB}
         \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{ensemble} \PY{k}{import} \PY{n}{RandomForestClassifier}
         \PY{k+kn}{from} \PY{n+nn}{sklearn} \PY{k}{import} \PY{n}{preprocessing}
         \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{feature\PYZus{}selection} \PY{k}{import} \PY{n}{SelectKBest}
         \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{feature\PYZus{}selection} \PY{k}{import} \PY{n}{chi2}
         \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{model\PYZus{}selection} \PY{k}{import} \PY{n}{StratifiedKFold}
         \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{model\PYZus{}selection} \PY{k}{import} \PY{n}{train\PYZus{}test\PYZus{}split}
         \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{feature\PYZus{}selection} \PY{k}{import} \PY{n}{RFECV}
         \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{datasets} \PY{k}{import} \PY{n}{make\PYZus{}classification}
         
         \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{preprocessing} \PY{k}{import} \PY{n}{StandardScaler}
         
         \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{pipeline} \PY{k}{import} \PY{n}{Pipeline}
         \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{model\PYZus{}selection} \PY{k}{import} \PY{n}{GridSearchCV}
         \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{preprocessing} \PY{k}{import} \PY{n}{StandardScaler}
         \PY{k+kn}{from} \PY{n+nn}{tester} \PY{k}{import} \PY{n}{dump\PYZus{}classifier\PYZus{}and\PYZus{}data}
         \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics} \PY{k}{import} \PY{n}{accuracy\PYZus{}score}\PY{p}{,} \PY{n}{precision\PYZus{}score}\PY{p}{,} \PY{n}{recall\PYZus{}score}
         
         \PY{k+kn}{from} \PY{n+nn}{sklearn} \PY{k}{import} \PY{n}{preprocessing}
\end{Verbatim}


    \subsection{Data Observations}\label{data-observations}

\subsubsection{Summarize}\label{summarize}

\begin{quote}
Summarize for us the goal of this project and how machine learning is
useful in trying to accomplish it. As part of your answer, give some
background on the dataset and how it can be used to answer the project
question. Were there any outliers in the data when you got it, and how
did you handle those? {[}relevant rubric items: ``data exploration'',
``outlier investigation''{]}
\end{quote}

We will observe the data we have on hand. We have 146 entries and 21
rows of data. We will look further on the data and plot some of them to
gain more insight.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{final\PYZus{}project\PYZus{}dataset.pkl}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{rb}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)} \PY{k}{as} \PY{n}{data\PYZus{}file}\PY{p}{:}
            \PY{n}{data\PYZus{}dict} \PY{o}{=} \PY{n}{pickle}\PY{o}{.}\PY{n}{load}\PY{p}{(}\PY{n}{data\PYZus{}file}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n}{data\PYZus{}dict}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}7}]:} \{'ALLEN PHILLIP K': \{'bonus': 4175000,
          'deferral\_payments': 2869717,
          'deferred\_income': -3081055,
          'director\_fees': 'NaN',
          'email\_address': 'phillip.allen@enron.com',
          'exercised\_stock\_options': 1729541,
          'expenses': 13868,
          'from\_messages': 2195,
          'from\_poi\_to\_this\_person': 47,
          'from\_this\_person\_to\_poi': 65,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 304805,
          'other': 152,
          'poi': False,
          'restricted\_stock': 126027,
          'restricted\_stock\_deferred': -126027,
          'salary': 201955,
          'shared\_receipt\_with\_poi': 1407,
          'to\_messages': 2902,
          'total\_payments': 4484442,
          'total\_stock\_value': 1729541\},
         'BADUM JAMES P': \{'bonus': 'NaN',
          'deferral\_payments': 178980,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'NaN',
          'exercised\_stock\_options': 257817,
          'expenses': 3486,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 182466,
          'total\_stock\_value': 257817\},
         'BANNANTINE JAMES M': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': -5104,
          'director\_fees': 'NaN',
          'email\_address': 'james.bannantine@enron.com',
          'exercised\_stock\_options': 4046157,
          'expenses': 56301,
          'from\_messages': 29,
          'from\_poi\_to\_this\_person': 39,
          'from\_this\_person\_to\_poi': 0,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 864523,
          'poi': False,
          'restricted\_stock': 1757552,
          'restricted\_stock\_deferred': -560222,
          'salary': 477,
          'shared\_receipt\_with\_poi': 465,
          'to\_messages': 566,
          'total\_payments': 916197,
          'total\_stock\_value': 5243487\},
         'BAXTER JOHN C': \{'bonus': 1200000,
          'deferral\_payments': 1295738,
          'deferred\_income': -1386055,
          'director\_fees': 'NaN',
          'email\_address': 'NaN',
          'exercised\_stock\_options': 6680544,
          'expenses': 11200,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 1586055,
          'other': 2660303,
          'poi': False,
          'restricted\_stock': 3942714,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 267102,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 5634343,
          'total\_stock\_value': 10623258\},
         'BAY FRANKLIN R': \{'bonus': 400000,
          'deferral\_payments': 260455,
          'deferred\_income': -201641,
          'director\_fees': 'NaN',
          'email\_address': 'frank.bay@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 129142,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 69,
          'poi': False,
          'restricted\_stock': 145796,
          'restricted\_stock\_deferred': -82782,
          'salary': 239671,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 827696,
          'total\_stock\_value': 63014\},
         'BAZELIDES PHILIP J': \{'bonus': 'NaN',
          'deferral\_payments': 684694,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'NaN',
          'exercised\_stock\_options': 1599641,
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 93750,
          'other': 874,
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 80818,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 860136,
          'total\_stock\_value': 1599641\},
         'BECK SALLY W': \{'bonus': 700000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'sally.beck@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 37172,
          'from\_messages': 4343,
          'from\_poi\_to\_this\_person': 144,
          'from\_this\_person\_to\_poi': 386,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 566,
          'poi': False,
          'restricted\_stock': 126027,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 231330,
          'shared\_receipt\_with\_poi': 2639,
          'to\_messages': 7315,
          'total\_payments': 969068,
          'total\_stock\_value': 126027\},
         'BELDEN TIMOTHY N': \{'bonus': 5249999,
          'deferral\_payments': 2144013,
          'deferred\_income': -2334434,
          'director\_fees': 'NaN',
          'email\_address': 'tim.belden@enron.com',
          'exercised\_stock\_options': 953136,
          'expenses': 17355,
          'from\_messages': 484,
          'from\_poi\_to\_this\_person': 228,
          'from\_this\_person\_to\_poi': 108,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 210698,
          'poi': True,
          'restricted\_stock': 157569,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 213999,
          'shared\_receipt\_with\_poi': 5521,
          'to\_messages': 7991,
          'total\_payments': 5501630,
          'total\_stock\_value': 1110705\},
         'BELFER ROBERT': \{'bonus': 'NaN',
          'deferral\_payments': -102500,
          'deferred\_income': 'NaN',
          'director\_fees': 3285,
          'email\_address': 'NaN',
          'exercised\_stock\_options': 3285,
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 44093,
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 102500,
          'total\_stock\_value': -44093\},
         'BERBERIAN DAVID': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'david.berberian@enron.com',
          'exercised\_stock\_options': 1624396,
          'expenses': 11892,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 869220,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 216582,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 228474,
          'total\_stock\_value': 2493616\},
         'BERGSIEKER RICHARD P': \{'bonus': 250000,
          'deferral\_payments': 'NaN',
          'deferred\_income': -485813,
          'director\_fees': 'NaN',
          'email\_address': 'rick.bergsieker@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 59175,
          'from\_messages': 59,
          'from\_poi\_to\_this\_person': 4,
          'from\_this\_person\_to\_poi': 0,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 180250,
          'other': 427316,
          'poi': False,
          'restricted\_stock': 659249,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 187922,
          'shared\_receipt\_with\_poi': 233,
          'to\_messages': 383,
          'total\_payments': 618850,
          'total\_stock\_value': 659249\},
         'BHATNAGAR SANJAY': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 137864,
          'email\_address': 'sanjay.bhatnagar@enron.com',
          'exercised\_stock\_options': 2604490,
          'expenses': 'NaN',
          'from\_messages': 29,
          'from\_poi\_to\_this\_person': 0,
          'from\_this\_person\_to\_poi': 1,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 137864,
          'poi': False,
          'restricted\_stock': -2604490,
          'restricted\_stock\_deferred': 15456290,
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 463,
          'to\_messages': 523,
          'total\_payments': 15456290,
          'total\_stock\_value': 'NaN'\},
         'BIBI PHILIPPE A': \{'bonus': 1000000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'philippe.bibi@enron.com',
          'exercised\_stock\_options': 1465734,
          'expenses': 38559,
          'from\_messages': 40,
          'from\_poi\_to\_this\_person': 23,
          'from\_this\_person\_to\_poi': 8,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 369721,
          'other': 425688,
          'poi': False,
          'restricted\_stock': 378082,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 213625,
          'shared\_receipt\_with\_poi': 1336,
          'to\_messages': 1607,
          'total\_payments': 2047593,
          'total\_stock\_value': 1843816\},
         'BLACHMAN JEREMY M': \{'bonus': 850000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'jeremy.blachman@enron.com',
          'exercised\_stock\_options': 765313,
          'expenses': 84208,
          'from\_messages': 14,
          'from\_poi\_to\_this\_person': 25,
          'from\_this\_person\_to\_poi': 2,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 831809,
          'other': 272,
          'poi': False,
          'restricted\_stock': 189041,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 248546,
          'shared\_receipt\_with\_poi': 2326,
          'to\_messages': 2475,
          'total\_payments': 2014835,
          'total\_stock\_value': 954354\},
         'BLAKE JR. NORMAN P': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': -113784,
          'director\_fees': 113784,
          'email\_address': 'NaN',
          'exercised\_stock\_options': 'NaN',
          'expenses': 1279,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 1279,
          'total\_stock\_value': 'NaN'\},
         'BOWEN JR RAYMOND M': \{'bonus': 1350000,
          'deferral\_payments': 'NaN',
          'deferred\_income': -833,
          'director\_fees': 'NaN',
          'email\_address': 'raymond.bowen@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 65907,
          'from\_messages': 27,
          'from\_poi\_to\_this\_person': 140,
          'from\_this\_person\_to\_poi': 15,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 974293,
          'other': 1621,
          'poi': True,
          'restricted\_stock': 252055,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 278601,
          'shared\_receipt\_with\_poi': 1593,
          'to\_messages': 1858,
          'total\_payments': 2669589,
          'total\_stock\_value': 252055\},
         'BROWN MICHAEL': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'michael.brown@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 49288,
          'from\_messages': 41,
          'from\_poi\_to\_this\_person': 13,
          'from\_this\_person\_to\_poi': 1,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 761,
          'to\_messages': 1486,
          'total\_payments': 49288,
          'total\_stock\_value': 'NaN'\},
         'BUCHANAN HAROLD G': \{'bonus': 500000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'john.buchanan@enron.com',
          'exercised\_stock\_options': 825464,
          'expenses': 600,
          'from\_messages': 125,
          'from\_poi\_to\_this\_person': 0,
          'from\_this\_person\_to\_poi': 0,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 304805,
          'other': 1215,
          'poi': False,
          'restricted\_stock': 189041,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 248017,
          'shared\_receipt\_with\_poi': 23,
          'to\_messages': 1088,
          'total\_payments': 1054637,
          'total\_stock\_value': 1014505\},
         'BUTTS ROBERT H': \{'bonus': 750000,
          'deferral\_payments': 'NaN',
          'deferred\_income': -75000,
          'director\_fees': 'NaN',
          'email\_address': 'bob.butts@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 9410,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 175000,
          'other': 150656,
          'poi': False,
          'restricted\_stock': 417619,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 261516,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 1271582,
          'total\_stock\_value': 417619\},
         'BUY RICHARD B': \{'bonus': 900000,
          'deferral\_payments': 649584,
          'deferred\_income': -694862,
          'director\_fees': 'NaN',
          'email\_address': 'rick.buy@enron.com',
          'exercised\_stock\_options': 2542813,
          'expenses': 'NaN',
          'from\_messages': 1053,
          'from\_poi\_to\_this\_person': 156,
          'from\_this\_person\_to\_poi': 71,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 769862,
          'other': 400572,
          'poi': False,
          'restricted\_stock': 901657,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 330546,
          'shared\_receipt\_with\_poi': 2333,
          'to\_messages': 3523,
          'total\_payments': 2355702,
          'total\_stock\_value': 3444470\},
         'CALGER CHRISTOPHER F': \{'bonus': 1250000,
          'deferral\_payments': 'NaN',
          'deferred\_income': -262500,
          'director\_fees': 'NaN',
          'email\_address': 'christopher.calger@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 35818,
          'from\_messages': 144,
          'from\_poi\_to\_this\_person': 199,
          'from\_this\_person\_to\_poi': 25,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 375304,
          'other': 486,
          'poi': True,
          'restricted\_stock': 126027,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 240189,
          'shared\_receipt\_with\_poi': 2188,
          'to\_messages': 2598,
          'total\_payments': 1639297,
          'total\_stock\_value': 126027\},
         'CARTER REBECCA C': \{'bonus': 300000,
          'deferral\_payments': 'NaN',
          'deferred\_income': -159792,
          'director\_fees': 'NaN',
          'email\_address': 'rebecca.carter@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 'NaN',
          'from\_messages': 15,
          'from\_poi\_to\_this\_person': 29,
          'from\_this\_person\_to\_poi': 7,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 75000,
          'other': 540,
          'poi': False,
          'restricted\_stock': 307301,
          'restricted\_stock\_deferred': -307301,
          'salary': 261809,
          'shared\_receipt\_with\_poi': 196,
          'to\_messages': 312,
          'total\_payments': 477557,
          'total\_stock\_value': 'NaN'\},
         'CAUSEY RICHARD A': \{'bonus': 1000000,
          'deferral\_payments': 'NaN',
          'deferred\_income': -235000,
          'director\_fees': 'NaN',
          'email\_address': 'richard.causey@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 30674,
          'from\_messages': 49,
          'from\_poi\_to\_this\_person': 58,
          'from\_this\_person\_to\_poi': 12,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 350000,
          'other': 307895,
          'poi': True,
          'restricted\_stock': 2502063,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 415189,
          'shared\_receipt\_with\_poi': 1585,
          'to\_messages': 1892,
          'total\_payments': 1868758,
          'total\_stock\_value': 2502063\},
         'CHAN RONNIE': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': -98784,
          'director\_fees': 98784,
          'email\_address': 'NaN',
          'exercised\_stock\_options': 'NaN',
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 32460,
          'restricted\_stock\_deferred': -32460,
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 'NaN',
          'total\_stock\_value': 'NaN'\},
         'CHRISTODOULOU DIOMEDES': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'diomedes.christodoulou@enron.com',
          'exercised\_stock\_options': 5127155,
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 950730,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 'NaN',
          'total\_stock\_value': 6077885\},
         'CLINE KENNETH W': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'NaN',
          'exercised\_stock\_options': 'NaN',
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 662086,
          'restricted\_stock\_deferred': -472568,
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 'NaN',
          'total\_stock\_value': 189518\},
         'COLWELL WESLEY': \{'bonus': 1200000,
          'deferral\_payments': 27610,
          'deferred\_income': -144062,
          'director\_fees': 'NaN',
          'email\_address': 'wes.colwell@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 16514,
          'from\_messages': 40,
          'from\_poi\_to\_this\_person': 240,
          'from\_this\_person\_to\_poi': 11,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 101740,
          'poi': True,
          'restricted\_stock': 698242,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 288542,
          'shared\_receipt\_with\_poi': 1132,
          'to\_messages': 1758,
          'total\_payments': 1490344,
          'total\_stock\_value': 698242\},
         'CORDES WILLIAM R': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'bill.cordes@enron.com',
          'exercised\_stock\_options': 651850,
          'expenses': 'NaN',
          'from\_messages': 12,
          'from\_poi\_to\_this\_person': 10,
          'from\_this\_person\_to\_poi': 0,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 386335,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 58,
          'to\_messages': 764,
          'total\_payments': 'NaN',
          'total\_stock\_value': 1038185\},
         'COX DAVID': \{'bonus': 800000,
          'deferral\_payments': 'NaN',
          'deferred\_income': -41250,
          'director\_fees': 'NaN',
          'email\_address': 'chip.cox@enron.com',
          'exercised\_stock\_options': 117551,
          'expenses': 27861,
          'from\_messages': 33,
          'from\_poi\_to\_this\_person': 0,
          'from\_this\_person\_to\_poi': 4,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 494,
          'poi': False,
          'restricted\_stock': 378082,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 314288,
          'shared\_receipt\_with\_poi': 71,
          'to\_messages': 102,
          'total\_payments': 1101393,
          'total\_stock\_value': 495633\},
         'CUMBERLAND MICHAEL S': \{'bonus': 325000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'NaN',
          'exercised\_stock\_options': 'NaN',
          'expenses': 22344,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 275000,
          'other': 713,
          'poi': False,
          'restricted\_stock': 207940,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 184899,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 807956,
          'total\_stock\_value': 207940\},
         'DEFFNER JOSEPH M': \{'bonus': 600000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'joseph.deffner@enron.com',
          'exercised\_stock\_options': 17378,
          'expenses': 41626,
          'from\_messages': 74,
          'from\_poi\_to\_this\_person': 115,
          'from\_this\_person\_to\_poi': 4,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 335349,
          'other': 25553,
          'poi': False,
          'restricted\_stock': 141833,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 206121,
          'shared\_receipt\_with\_poi': 552,
          'to\_messages': 714,
          'total\_payments': 1208649,
          'total\_stock\_value': 159211\},
         'DELAINEY DAVID W': \{'bonus': 3000000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'david.delainey@enron.com',
          'exercised\_stock\_options': 2291113,
          'expenses': 86174,
          'from\_messages': 3069,
          'from\_poi\_to\_this\_person': 66,
          'from\_this\_person\_to\_poi': 609,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 1294981,
          'other': 1661,
          'poi': True,
          'restricted\_stock': 1323148,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 365163,
          'shared\_receipt\_with\_poi': 2097,
          'to\_messages': 3093,
          'total\_payments': 4747979,
          'total\_stock\_value': 3614261\},
         'DERRICK JR. JAMES V': \{'bonus': 800000,
          'deferral\_payments': 'NaN',
          'deferred\_income': -1284000,
          'director\_fees': 'NaN',
          'email\_address': 'james.derrick@enron.com',
          'exercised\_stock\_options': 8831913,
          'expenses': 51124,
          'from\_messages': 909,
          'from\_poi\_to\_this\_person': 64,
          'from\_this\_person\_to\_poi': 20,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 484000,
          'other': 7482,
          'poi': False,
          'restricted\_stock': 1787380,
          'restricted\_stock\_deferred': -1787380,
          'salary': 492375,
          'shared\_receipt\_with\_poi': 1401,
          'to\_messages': 2181,
          'total\_payments': 550981,
          'total\_stock\_value': 8831913\},
         'DETMERING TIMOTHY J': \{'bonus': 425000,
          'deferral\_payments': 875307,
          'deferred\_income': -775241,
          'director\_fees': 'NaN',
          'email\_address': 'timothy.detmering@enron.com',
          'exercised\_stock\_options': 2027865,
          'expenses': 52255,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 415657,
          'other': 1105,
          'poi': False,
          'restricted\_stock': 315068,
          'restricted\_stock\_deferred': -315068,
          'salary': 210500,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 1204583,
          'total\_stock\_value': 2027865\},
         'DIETRICH JANET R': \{'bonus': 600000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'janet.dietrich@enron.com',
          'exercised\_stock\_options': 1550019,
          'expenses': 3475,
          'from\_messages': 63,
          'from\_poi\_to\_this\_person': 305,
          'from\_this\_person\_to\_poi': 14,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 556416,
          'other': 473,
          'poi': False,
          'restricted\_stock': 315068,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 250100,
          'shared\_receipt\_with\_poi': 1902,
          'to\_messages': 2572,
          'total\_payments': 1410464,
          'total\_stock\_value': 1865087\},
         'DIMICHELE RICHARD G': \{'bonus': 1000000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'richard.dimichele@enron.com',
          'exercised\_stock\_options': 8191755,
          'expenses': 35812,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 694862,
          'other': 374689,
          'poi': False,
          'restricted\_stock': 126027,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 262788,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 2368151,
          'total\_stock\_value': 8317782\},
         'DODSON KEITH': \{'bonus': 70000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'keith.dodson@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 28164,
          'from\_messages': 14,
          'from\_poi\_to\_this\_person': 10,
          'from\_this\_person\_to\_poi': 3,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 774,
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 221003,
          'shared\_receipt\_with\_poi': 114,
          'to\_messages': 176,
          'total\_payments': 319941,
          'total\_stock\_value': 'NaN'\},
         'DONAHUE JR JEFFREY M': \{'bonus': 800000,
          'deferral\_payments': 'NaN',
          'deferred\_income': -300000,
          'director\_fees': 'NaN',
          'email\_address': 'jeff.donahue@enron.com',
          'exercised\_stock\_options': 765920,
          'expenses': 96268,
          'from\_messages': 22,
          'from\_poi\_to\_this\_person': 188,
          'from\_this\_person\_to\_poi': 11,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 891,
          'poi': False,
          'restricted\_stock': 315068,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 278601,
          'shared\_receipt\_with\_poi': 772,
          'to\_messages': 865,
          'total\_payments': 875760,
          'total\_stock\_value': 1080988\},
         'DUNCAN JOHN H': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': -25000,
          'director\_fees': 102492,
          'email\_address': 'NaN',
          'exercised\_stock\_options': 371750,
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 77492,
          'total\_stock\_value': 371750\},
         'DURAN WILLIAM D': \{'bonus': 750000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'w.duran@enron.com',
          'exercised\_stock\_options': 1451869,
          'expenses': 25785,
          'from\_messages': 12,
          'from\_poi\_to\_this\_person': 106,
          'from\_this\_person\_to\_poi': 3,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 1105218,
          'other': 1568,
          'poi': False,
          'restricted\_stock': 189041,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 210692,
          'shared\_receipt\_with\_poi': 599,
          'to\_messages': 904,
          'total\_payments': 2093263,
          'total\_stock\_value': 1640910\},
         'ECHOLS JOHN B': \{'bonus': 200000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'john.echols@enron.com',
          'exercised\_stock\_options': 601438,
          'expenses': 21530,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 2234774,
          'other': 53775,
          'poi': False,
          'restricted\_stock': 407503,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 182245,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 2692324,
          'total\_stock\_value': 1008941\},
         'ELLIOTT STEVEN': \{'bonus': 350000,
          'deferral\_payments': 'NaN',
          'deferred\_income': -400729,
          'director\_fees': 'NaN',
          'email\_address': 'steven.elliott@enron.com',
          'exercised\_stock\_options': 4890344,
          'expenses': 78552,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 12961,
          'poi': False,
          'restricted\_stock': 1788391,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 170941,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 211725,
          'total\_stock\_value': 6678735\},
         'FALLON JAMES B': \{'bonus': 2500000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'jim.fallon@enron.com',
          'exercised\_stock\_options': 940257,
          'expenses': 95924,
          'from\_messages': 75,
          'from\_poi\_to\_this\_person': 42,
          'from\_this\_person\_to\_poi': 37,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 374347,
          'other': 401481,
          'poi': False,
          'restricted\_stock': 1392142,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 304588,
          'shared\_receipt\_with\_poi': 1604,
          'to\_messages': 1755,
          'total\_payments': 3676340,
          'total\_stock\_value': 2332399\},
         'FASTOW ANDREW S': \{'bonus': 1300000,
          'deferral\_payments': 'NaN',
          'deferred\_income': -1386055,
          'director\_fees': 'NaN',
          'email\_address': 'andrew.fastow@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 55921,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 1736055,
          'other': 277464,
          'poi': True,
          'restricted\_stock': 1794412,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 440698,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 2424083,
          'total\_stock\_value': 1794412\},
         'FITZGERALD JAY L': \{'bonus': 350000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'jay.fitzgerald@enron.com',
          'exercised\_stock\_options': 664461,
          'expenses': 23870,
          'from\_messages': 16,
          'from\_poi\_to\_this\_person': 1,
          'from\_this\_person\_to\_poi': 8,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 556416,
          'other': 285414,
          'poi': False,
          'restricted\_stock': 956775,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 199157,
          'shared\_receipt\_with\_poi': 723,
          'to\_messages': 936,
          'total\_payments': 1414857,
          'total\_stock\_value': 1621236\},
         'FOWLER PEGGY': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'kulvinder.fowler@enron.com',
          'exercised\_stock\_options': 1324578,
          'expenses': 'NaN',
          'from\_messages': 36,
          'from\_poi\_to\_this\_person': 0,
          'from\_this\_person\_to\_poi': 0,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 560170,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 10,
          'to\_messages': 517,
          'total\_payments': 'NaN',
          'total\_stock\_value': 1884748\},
         'FOY JOE': \{'bonus': 'NaN',
          'deferral\_payments': 181755,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'tracy.foy@enron.com',
          'exercised\_stock\_options': 343434,
          'expenses': 'NaN',
          'from\_messages': 13,
          'from\_poi\_to\_this\_person': 0,
          'from\_this\_person\_to\_poi': 0,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 2,
          'to\_messages': 57,
          'total\_payments': 181755,
          'total\_stock\_value': 343434\},
         'FREVERT MARK A': \{'bonus': 2000000,
          'deferral\_payments': 6426990,
          'deferred\_income': -3367011,
          'director\_fees': 'NaN',
          'email\_address': 'mark.frevert@enron.com',
          'exercised\_stock\_options': 10433518,
          'expenses': 86987,
          'from\_messages': 21,
          'from\_poi\_to\_this\_person': 242,
          'from\_this\_person\_to\_poi': 6,
          'loan\_advances': 2000000,
          'long\_term\_incentive': 1617011,
          'other': 7427621,
          'poi': False,
          'restricted\_stock': 4188667,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 1060932,
          'shared\_receipt\_with\_poi': 2979,
          'to\_messages': 3275,
          'total\_payments': 17252530,
          'total\_stock\_value': 14622185\},
         'FUGH JOHN L': \{'bonus': 'NaN',
          'deferral\_payments': 50591,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'NaN',
          'exercised\_stock\_options': 176378,
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 50591,
          'total\_stock\_value': 176378\},
         'GAHN ROBERT S': \{'bonus': 509870,
          'deferral\_payments': 73122,
          'deferred\_income': -1042,
          'director\_fees': 'NaN',
          'email\_address': 'NaN',
          'exercised\_stock\_options': 83237,
          'expenses': 50080,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 76547,
          'poi': False,
          'restricted\_stock': 235370,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 192008,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 900585,
          'total\_stock\_value': 318607\},
         'GARLAND C KEVIN': \{'bonus': 850000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'kevin.garland@enron.com',
          'exercised\_stock\_options': 636246,
          'expenses': 48405,
          'from\_messages': 44,
          'from\_poi\_to\_this\_person': 10,
          'from\_this\_person\_to\_poi': 27,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 375304,
          'other': 60814,
          'poi': False,
          'restricted\_stock': 259907,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 231946,
          'shared\_receipt\_with\_poi': 178,
          'to\_messages': 209,
          'total\_payments': 1566469,
          'total\_stock\_value': 896153\},
         'GATHMANN WILLIAM D': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'NaN',
          'exercised\_stock\_options': 1753766,
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 264013,
          'restricted\_stock\_deferred': -72419,
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 'NaN',
          'total\_stock\_value': 1945360\},
         'GIBBS DANA R': \{'bonus': 'NaN',
          'deferral\_payments': 504610,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'dana.gibbs@enron.com',
          'exercised\_stock\_options': 2218275,
          'expenses': 'NaN',
          'from\_messages': 12,
          'from\_poi\_to\_this\_person': 0,
          'from\_this\_person\_to\_poi': 0,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 461912,
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 23,
          'to\_messages': 169,
          'total\_payments': 966522,
          'total\_stock\_value': 2218275\},
         'GILLIS JOHN': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'NaN',
          'exercised\_stock\_options': 9803,
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 75838,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 'NaN',
          'total\_stock\_value': 85641\},
         'GLISAN JR BEN F': \{'bonus': 600000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'ben.glisan@enron.com',
          'exercised\_stock\_options': 384728,
          'expenses': 125978,
          'from\_messages': 16,
          'from\_poi\_to\_this\_person': 52,
          'from\_this\_person\_to\_poi': 6,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 71023,
          'other': 200308,
          'poi': True,
          'restricted\_stock': 393818,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 274975,
          'shared\_receipt\_with\_poi': 874,
          'to\_messages': 873,
          'total\_payments': 1272284,
          'total\_stock\_value': 778546\},
         'GOLD JOSEPH': \{'bonus': 750000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'joe.gold@enron.com',
          'exercised\_stock\_options': 436515,
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 304805,
          'other': 819288,
          'poi': False,
          'restricted\_stock': 441096,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 272880,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 2146973,
          'total\_stock\_value': 877611\},
         'GRAMM WENDY L': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 119292,
          'email\_address': 'NaN',
          'exercised\_stock\_options': 'NaN',
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 119292,
          'total\_stock\_value': 'NaN'\},
         'GRAY RODNEY': \{'bonus': 'NaN',
          'deferral\_payments': 93585,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'NaN',
          'exercised\_stock\_options': 'NaN',
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 365625,
          'other': 680833,
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 6615,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 1146658,
          'total\_stock\_value': 'NaN'\},
         'HAEDICKE MARK E': \{'bonus': 1150000,
          'deferral\_payments': 2157527,
          'deferred\_income': -934484,
          'director\_fees': 'NaN',
          'email\_address': 'mark.haedicke@enron.com',
          'exercised\_stock\_options': 608750,
          'expenses': 76169,
          'from\_messages': 1941,
          'from\_poi\_to\_this\_person': 180,
          'from\_this\_person\_to\_poi': 61,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 983346,
          'other': 52382,
          'poi': False,
          'restricted\_stock': 524169,
          'restricted\_stock\_deferred': -329825,
          'salary': 374125,
          'shared\_receipt\_with\_poi': 1847,
          'to\_messages': 4009,
          'total\_payments': 3859065,
          'total\_stock\_value': 803094\},
         'HANNON KEVIN P': \{'bonus': 1500000,
          'deferral\_payments': 'NaN',
          'deferred\_income': -3117011,
          'director\_fees': 'NaN',
          'email\_address': 'kevin.hannon@enron.com',
          'exercised\_stock\_options': 5538001,
          'expenses': 34039,
          'from\_messages': 32,
          'from\_poi\_to\_this\_person': 32,
          'from\_this\_person\_to\_poi': 21,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 1617011,
          'other': 11350,
          'poi': True,
          'restricted\_stock': 853064,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 243293,
          'shared\_receipt\_with\_poi': 1035,
          'to\_messages': 1045,
          'total\_payments': 288682,
          'total\_stock\_value': 6391065\},
         'HAUG DAVID L': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'david.haug@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 475,
          'from\_messages': 19,
          'from\_poi\_to\_this\_person': 4,
          'from\_this\_person\_to\_poi': 7,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 2217299,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 471,
          'to\_messages': 573,
          'total\_payments': 475,
          'total\_stock\_value': 2217299\},
         'HAYES ROBERT E': \{'bonus': 'NaN',
          'deferral\_payments': 7961,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'robert.hayes@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 'NaN',
          'from\_messages': 12,
          'from\_poi\_to\_this\_person': 16,
          'from\_this\_person\_to\_poi': 0,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 151418,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 50,
          'to\_messages': 504,
          'total\_payments': 7961,
          'total\_stock\_value': 151418\},
         'HAYSLETT RODERICK J': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'rod.hayslett@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 'NaN',
          'from\_messages': 1061,
          'from\_poi\_to\_this\_person': 35,
          'from\_this\_person\_to\_poi': 38,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 346663,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 571,
          'to\_messages': 2649,
          'total\_payments': 'NaN',
          'total\_stock\_value': 346663\},
         'HERMANN ROBERT J': \{'bonus': 700000,
          'deferral\_payments': 'NaN',
          'deferred\_income': -280000,
          'director\_fees': 'NaN',
          'email\_address': 'robert.hermann@enron.com',
          'exercised\_stock\_options': 187500,
          'expenses': 48357,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 150000,
          'other': 416441,
          'poi': False,
          'restricted\_stock': 480632,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 262663,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 1297461,
          'total\_stock\_value': 668132\},
         'HICKERSON GARY J': \{'bonus': 1700000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'gary.hickerson@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 98849,
          'from\_messages': 27,
          'from\_poi\_to\_this\_person': 40,
          'from\_this\_person\_to\_poi': 1,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 69223,
          'other': 1936,
          'poi': False,
          'restricted\_stock': 441096,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 211788,
          'shared\_receipt\_with\_poi': 900,
          'to\_messages': 1320,
          'total\_payments': 2081796,
          'total\_stock\_value': 441096\},
         'HIRKO JOSEPH': \{'bonus': 'NaN',
          'deferral\_payments': 10259,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'joe.hirko@enron.com',
          'exercised\_stock\_options': 30766064,
          'expenses': 77978,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 2856,
          'poi': True,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 91093,
          'total\_stock\_value': 30766064\},
         'HORTON STANLEY C': \{'bonus': 'NaN',
          'deferral\_payments': 3131860,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'stanley.horton@enron.com',
          'exercised\_stock\_options': 5210569,
          'expenses': 'NaN',
          'from\_messages': 1073,
          'from\_poi\_to\_this\_person': 44,
          'from\_this\_person\_to\_poi': 15,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 2046079,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 1074,
          'to\_messages': 2350,
          'total\_payments': 3131860,
          'total\_stock\_value': 7256648\},
         'HUGHES JAMES A': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'james.hughes@enron.com',
          'exercised\_stock\_options': 754966,
          'expenses': 'NaN',
          'from\_messages': 34,
          'from\_poi\_to\_this\_person': 35,
          'from\_this\_person\_to\_poi': 5,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 363428,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 589,
          'to\_messages': 719,
          'total\_payments': 'NaN',
          'total\_stock\_value': 1118394\},
         'HUMPHREY GENE E': \{'bonus': 'NaN',
          'deferral\_payments': 2964506,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'gene.humphrey@enron.com',
          'exercised\_stock\_options': 2282768,
          'expenses': 4994,
          'from\_messages': 17,
          'from\_poi\_to\_this\_person': 10,
          'from\_this\_person\_to\_poi': 17,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 130724,
          'shared\_receipt\_with\_poi': 119,
          'to\_messages': 128,
          'total\_payments': 3100224,
          'total\_stock\_value': 2282768\},
         'IZZO LAWRENCE L': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'larry.izzo@enron.com',
          'exercised\_stock\_options': 2165172,
          'expenses': 28093,
          'from\_messages': 19,
          'from\_poi\_to\_this\_person': 28,
          'from\_this\_person\_to\_poi': 5,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 312500,
          'other': 1553729,
          'poi': False,
          'restricted\_stock': 3654808,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 85274,
          'shared\_receipt\_with\_poi': 437,
          'to\_messages': 496,
          'total\_payments': 1979596,
          'total\_stock\_value': 5819980\},
         'JACKSON CHARLENE R': \{'bonus': 250000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'charlene.jackson@enron.com',
          'exercised\_stock\_options': 185063,
          'expenses': 10181,
          'from\_messages': 56,
          'from\_poi\_to\_this\_person': 25,
          'from\_this\_person\_to\_poi': 19,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 2435,
          'poi': False,
          'restricted\_stock': 540672,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 288558,
          'shared\_receipt\_with\_poi': 117,
          'to\_messages': 258,
          'total\_payments': 551174,
          'total\_stock\_value': 725735\},
         'JAEDICKE ROBERT': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': -25000,
          'director\_fees': 108750,
          'email\_address': 'NaN',
          'exercised\_stock\_options': 431750,
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 44093,
          'restricted\_stock\_deferred': -44093,
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 83750,
          'total\_stock\_value': 431750\},
         'KAMINSKI WINCENTY J': \{'bonus': 400000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'vince.kaminski@enron.com',
          'exercised\_stock\_options': 850010,
          'expenses': 83585,
          'from\_messages': 14368,
          'from\_poi\_to\_this\_person': 41,
          'from\_this\_person\_to\_poi': 171,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 323466,
          'other': 4669,
          'poi': False,
          'restricted\_stock': 126027,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 275101,
          'shared\_receipt\_with\_poi': 583,
          'to\_messages': 4607,
          'total\_payments': 1086821,
          'total\_stock\_value': 976037\},
         'KEAN STEVEN J': \{'bonus': 1000000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'steven.kean@enron.com',
          'exercised\_stock\_options': 2022048,
          'expenses': 41953,
          'from\_messages': 6759,
          'from\_poi\_to\_this\_person': 140,
          'from\_this\_person\_to\_poi': 387,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 300000,
          'other': 1231,
          'poi': False,
          'restricted\_stock': 4131594,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 404338,
          'shared\_receipt\_with\_poi': 3639,
          'to\_messages': 12754,
          'total\_payments': 1747522,
          'total\_stock\_value': 6153642\},
         'KISHKILL JOSEPH G': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': -51042,
          'director\_fees': 'NaN',
          'email\_address': 'joe.kishkill@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 116335,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 465357,
          'poi': False,
          'restricted\_stock': 1034346,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 174246,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 704896,
          'total\_stock\_value': 1034346\},
         'KITCHEN LOUISE': \{'bonus': 3100000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'louise.kitchen@enron.com',
          'exercised\_stock\_options': 81042,
          'expenses': 5774,
          'from\_messages': 1728,
          'from\_poi\_to\_this\_person': 251,
          'from\_this\_person\_to\_poi': 194,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 93925,
          'poi': False,
          'restricted\_stock': 466101,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 271442,
          'shared\_receipt\_with\_poi': 3669,
          'to\_messages': 8305,
          'total\_payments': 3471141,
          'total\_stock\_value': 547143\},
         'KOENIG MARK E': \{'bonus': 700000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'mark.koenig@enron.com',
          'exercised\_stock\_options': 671737,
          'expenses': 127017,
          'from\_messages': 61,
          'from\_poi\_to\_this\_person': 53,
          'from\_this\_person\_to\_poi': 15,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 300000,
          'other': 150458,
          'poi': True,
          'restricted\_stock': 1248318,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 309946,
          'shared\_receipt\_with\_poi': 2271,
          'to\_messages': 2374,
          'total\_payments': 1587421,
          'total\_stock\_value': 1920055\},
         'KOPPER MICHAEL J': \{'bonus': 800000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'michael.kopper@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 118134,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 602671,
          'other': 907502,
          'poi': True,
          'restricted\_stock': 985032,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 224305,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 2652612,
          'total\_stock\_value': 985032\},
         'LAVORATO JOHN J': \{'bonus': 8000000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'john.lavorato@enron.com',
          'exercised\_stock\_options': 4158995,
          'expenses': 49537,
          'from\_messages': 2585,
          'from\_poi\_to\_this\_person': 528,
          'from\_this\_person\_to\_poi': 411,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 2035380,
          'other': 1552,
          'poi': False,
          'restricted\_stock': 1008149,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 339288,
          'shared\_receipt\_with\_poi': 3962,
          'to\_messages': 7259,
          'total\_payments': 10425757,
          'total\_stock\_value': 5167144\},
         'LAY KENNETH L': \{'bonus': 7000000,
          'deferral\_payments': 202911,
          'deferred\_income': -300000,
          'director\_fees': 'NaN',
          'email\_address': 'kenneth.lay@enron.com',
          'exercised\_stock\_options': 34348384,
          'expenses': 99832,
          'from\_messages': 36,
          'from\_poi\_to\_this\_person': 123,
          'from\_this\_person\_to\_poi': 16,
          'loan\_advances': 81525000,
          'long\_term\_incentive': 3600000,
          'other': 10359729,
          'poi': True,
          'restricted\_stock': 14761694,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 1072321,
          'shared\_receipt\_with\_poi': 2411,
          'to\_messages': 4273,
          'total\_payments': 103559793,
          'total\_stock\_value': 49110078\},
         'LEFF DANIEL P': \{'bonus': 1000000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'dan.leff@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 'NaN',
          'from\_messages': 63,
          'from\_poi\_to\_this\_person': 67,
          'from\_this\_person\_to\_poi': 14,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 1387399,
          'other': 3083,
          'poi': False,
          'restricted\_stock': 360528,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 273746,
          'shared\_receipt\_with\_poi': 2672,
          'to\_messages': 2822,
          'total\_payments': 2664228,
          'total\_stock\_value': 360528\},
         'LEMAISTRE CHARLES': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': -25000,
          'director\_fees': 112492,
          'email\_address': 'NaN',
          'exercised\_stock\_options': 412878,
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 87492,
          'total\_stock\_value': 412878\},
         'LEWIS RICHARD': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'richard.lewis@enron.com',
          'exercised\_stock\_options': 850477,
          'expenses': 'NaN',
          'from\_messages': 26,
          'from\_poi\_to\_this\_person': 10,
          'from\_this\_person\_to\_poi': 0,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 739,
          'to\_messages': 952,
          'total\_payments': 'NaN',
          'total\_stock\_value': 850477\},
         'LINDHOLM TOD A': \{'bonus': 200000,
          'deferral\_payments': 204075,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'tod.lindholm@enron.com',
          'exercised\_stock\_options': 2549361,
          'expenses': 57727,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 175000,
          'other': 2630,
          'poi': False,
          'restricted\_stock': 514847,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 236457,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 875889,
          'total\_stock\_value': 3064208\},
         'LOCKHART EUGENE E': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'NaN',
          'exercised\_stock\_options': 'NaN',
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 'NaN',
          'total\_stock\_value': 'NaN'\},
         'LOWRY CHARLES P': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'NaN',
          'exercised\_stock\_options': 372205,
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 153686,
          'restricted\_stock\_deferred': -153686,
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 'NaN',
          'total\_stock\_value': 372205\},
         'MARTIN AMANDA K': \{'bonus': 'NaN',
          'deferral\_payments': 85430,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'a..martin@enron.com',
          'exercised\_stock\_options': 2070306,
          'expenses': 8211,
          'from\_messages': 230,
          'from\_poi\_to\_this\_person': 8,
          'from\_this\_person\_to\_poi': 0,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 5145434,
          'other': 2818454,
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 349487,
          'shared\_receipt\_with\_poi': 477,
          'to\_messages': 1522,
          'total\_payments': 8407016,
          'total\_stock\_value': 2070306\},
         'MCCARTY DANNY J': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'danny.mccarty@enron.com',
          'exercised\_stock\_options': 664375,
          'expenses': 'NaN',
          'from\_messages': 215,
          'from\_poi\_to\_this\_person': 25,
          'from\_this\_person\_to\_poi': 2,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 94556,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 508,
          'to\_messages': 1433,
          'total\_payments': 'NaN',
          'total\_stock\_value': 758931\},
         'MCCLELLAN GEORGE': \{'bonus': 900000,
          'deferral\_payments': 'NaN',
          'deferred\_income': -125000,
          'director\_fees': 'NaN',
          'email\_address': 'george.mcclellan@enron.com',
          'exercised\_stock\_options': 506765,
          'expenses': 228763,
          'from\_messages': 49,
          'from\_poi\_to\_this\_person': 52,
          'from\_this\_person\_to\_poi': 0,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 51587,
          'poi': False,
          'restricted\_stock': 441096,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 263413,
          'shared\_receipt\_with\_poi': 1469,
          'to\_messages': 1744,
          'total\_payments': 1318763,
          'total\_stock\_value': 947861\},
         'MCCONNELL MICHAEL S': \{'bonus': 1100000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'mike.mcconnell@enron.com',
          'exercised\_stock\_options': 1623010,
          'expenses': 81364,
          'from\_messages': 2742,
          'from\_poi\_to\_this\_person': 92,
          'from\_this\_person\_to\_poi': 194,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 554422,
          'other': 540,
          'poi': False,
          'restricted\_stock': 1478269,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 365038,
          'shared\_receipt\_with\_poi': 2189,
          'to\_messages': 3329,
          'total\_payments': 2101364,
          'total\_stock\_value': 3101279\},
         'MCDONALD REBECCA': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'rebecca.mcdonald@enron.com',
          'exercised\_stock\_options': 757301,
          'expenses': 'NaN',
          'from\_messages': 13,
          'from\_poi\_to\_this\_person': 54,
          'from\_this\_person\_to\_poi': 1,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 934065,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 720,
          'to\_messages': 894,
          'total\_payments': 'NaN',
          'total\_stock\_value': 1691366\},
         'MCMAHON JEFFREY': \{'bonus': 2600000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'jeffrey.mcmahon@enron.com',
          'exercised\_stock\_options': 1104054,
          'expenses': 137108,
          'from\_messages': 48,
          'from\_poi\_to\_this\_person': 58,
          'from\_this\_person\_to\_poi': 26,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 694862,
          'other': 297353,
          'poi': False,
          'restricted\_stock': 558801,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 370448,
          'shared\_receipt\_with\_poi': 2228,
          'to\_messages': 2355,
          'total\_payments': 4099771,
          'total\_stock\_value': 1662855\},
         'MENDELSOHN JOHN': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': -103750,
          'director\_fees': 103750,
          'email\_address': 'NaN',
          'exercised\_stock\_options': 'NaN',
          'expenses': 148,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 148,
          'total\_stock\_value': 'NaN'\},
         'METTS MARK': \{'bonus': 600000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'mark.metts@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 94299,
          'from\_messages': 29,
          'from\_poi\_to\_this\_person': 38,
          'from\_this\_person\_to\_poi': 1,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 1740,
          'poi': False,
          'restricted\_stock': 585062,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 365788,
          'shared\_receipt\_with\_poi': 702,
          'to\_messages': 807,
          'total\_payments': 1061827,
          'total\_stock\_value': 585062\},
         'MEYER JEROME J': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': -38346,
          'director\_fees': 38346,
          'email\_address': 'NaN',
          'exercised\_stock\_options': 'NaN',
          'expenses': 2151,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 2151,
          'total\_stock\_value': 'NaN'\},
         'MEYER ROCKFORD G': \{'bonus': 'NaN',
          'deferral\_payments': 1848227,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'rockford.meyer@enron.com',
          'exercised\_stock\_options': 493489,
          'expenses': 'NaN',
          'from\_messages': 28,
          'from\_poi\_to\_this\_person': 0,
          'from\_this\_person\_to\_poi': 0,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 462384,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 22,
          'to\_messages': 232,
          'total\_payments': 1848227,
          'total\_stock\_value': 955873\},
         'MORAN MICHAEL P': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'michael.moran@enron.com',
          'exercised\_stock\_options': 59539,
          'expenses': 'NaN',
          'from\_messages': 19,
          'from\_poi\_to\_this\_person': 0,
          'from\_this\_person\_to\_poi': 0,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 161602,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 127,
          'to\_messages': 672,
          'total\_payments': 'NaN',
          'total\_stock\_value': 221141\},
         'MORDAUNT KRISTINA M': \{'bonus': 325000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'kristina.mordaunt@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 35018,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 1411,
          'poi': False,
          'restricted\_stock': 208510,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 267093,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 628522,
          'total\_stock\_value': 208510\},
         'MULLER MARK S': \{'bonus': 1100000,
          'deferral\_payments': 842924,
          'deferred\_income': -719000,
          'director\_fees': 'NaN',
          'email\_address': 's..muller@enron.com',
          'exercised\_stock\_options': 1056320,
          'expenses': 'NaN',
          'from\_messages': 16,
          'from\_poi\_to\_this\_person': 12,
          'from\_this\_person\_to\_poi': 0,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 1725545,
          'other': 947,
          'poi': False,
          'restricted\_stock': 360528,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 251654,
          'shared\_receipt\_with\_poi': 114,
          'to\_messages': 136,
          'total\_payments': 3202070,
          'total\_stock\_value': 1416848\},
         'MURRAY JULIA H': \{'bonus': 400000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'julia.murray@enron.com',
          'exercised\_stock\_options': 400478,
          'expenses': 57580,
          'from\_messages': 45,
          'from\_poi\_to\_this\_person': 11,
          'from\_this\_person\_to\_poi': 2,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 125000,
          'other': 330,
          'poi': False,
          'restricted\_stock': 196983,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 229284,
          'shared\_receipt\_with\_poi': 395,
          'to\_messages': 2192,
          'total\_payments': 812194,
          'total\_stock\_value': 597461\},
         'NOLES JAMES L': \{'bonus': 'NaN',
          'deferral\_payments': 774401,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'NaN',
          'exercised\_stock\_options': 'NaN',
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 463261,
          'restricted\_stock\_deferred': -94556,
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 774401,
          'total\_stock\_value': 368705\},
         'OLSON CINDY K': \{'bonus': 750000,
          'deferral\_payments': 77716,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'cindy.olson@enron.com',
          'exercised\_stock\_options': 1637034,
          'expenses': 63791,
          'from\_messages': 52,
          'from\_poi\_to\_this\_person': 20,
          'from\_this\_person\_to\_poi': 15,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 100000,
          'other': 972,
          'poi': False,
          'restricted\_stock': 969729,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 329078,
          'shared\_receipt\_with\_poi': 856,
          'to\_messages': 1184,
          'total\_payments': 1321557,
          'total\_stock\_value': 2606763\},
         'OVERDYKE JR JERE C': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'jere.overdyke@enron.com',
          'exercised\_stock\_options': 5266578,
          'expenses': 18834,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 135836,
          'other': 176,
          'poi': False,
          'restricted\_stock': 2041016,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 94941,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 249787,
          'total\_stock\_value': 7307594\},
         'PAI LOU L': \{'bonus': 1000000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'lou.pai@enron.com',
          'exercised\_stock\_options': 15364167,
          'expenses': 32047,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 1829457,
          'poi': False,
          'restricted\_stock': 8453763,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 261879,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 3123383,
          'total\_stock\_value': 23817930\},
         'PEREIRA PAULO V. FERRAZ': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': -101250,
          'director\_fees': 101250,
          'email\_address': 'NaN',
          'exercised\_stock\_options': 'NaN',
          'expenses': 27942,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 27942,
          'total\_stock\_value': 'NaN'\},
         'PICKERING MARK R': \{'bonus': 300000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'mark.pickering@enron.com',
          'exercised\_stock\_options': 28798,
          'expenses': 31653,
          'from\_messages': 67,
          'from\_poi\_to\_this\_person': 7,
          'from\_this\_person\_to\_poi': 0,
          'loan\_advances': 400000,
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 655037,
          'shared\_receipt\_with\_poi': 728,
          'to\_messages': 898,
          'total\_payments': 1386690,
          'total\_stock\_value': 28798\},
         'PIPER GREGORY F': \{'bonus': 400000,
          'deferral\_payments': 1130036,
          'deferred\_income': -33333,
          'director\_fees': 'NaN',
          'email\_address': 'greg.piper@enron.com',
          'exercised\_stock\_options': 880290,
          'expenses': 43057,
          'from\_messages': 222,
          'from\_poi\_to\_this\_person': 61,
          'from\_this\_person\_to\_poi': 48,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 778,
          'poi': False,
          'restricted\_stock': 409554,
          'restricted\_stock\_deferred': -409554,
          'salary': 197091,
          'shared\_receipt\_with\_poi': 742,
          'to\_messages': 1238,
          'total\_payments': 1737629,
          'total\_stock\_value': 880290\},
         'PIRO JIM': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'jim.piro@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 'NaN',
          'from\_messages': 16,
          'from\_poi\_to\_this\_person': 0,
          'from\_this\_person\_to\_poi': 1,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 47304,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 3,
          'to\_messages': 58,
          'total\_payments': 'NaN',
          'total\_stock\_value': 47304\},
         'POWERS WILLIAM': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': -17500,
          'director\_fees': 17500,
          'email\_address': 'ken.powers@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 'NaN',
          'from\_messages': 26,
          'from\_poi\_to\_this\_person': 0,
          'from\_this\_person\_to\_poi': 0,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 12,
          'to\_messages': 653,
          'total\_payments': 'NaN',
          'total\_stock\_value': 'NaN'\},
         'PRENTICE JAMES': \{'bonus': 'NaN',
          'deferral\_payments': 564348,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'james.prentice@enron.com',
          'exercised\_stock\_options': 886231,
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 208809,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 564348,
          'total\_stock\_value': 1095040\},
         'REDMOND BRIAN L': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'brian.redmond@enron.com',
          'exercised\_stock\_options': 7509039,
          'expenses': 14689,
          'from\_messages': 221,
          'from\_poi\_to\_this\_person': 204,
          'from\_this\_person\_to\_poi': 49,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 381285,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 96840,
          'shared\_receipt\_with\_poi': 1063,
          'to\_messages': 1671,
          'total\_payments': 111529,
          'total\_stock\_value': 7890324\},
         'REYNOLDS LAWRENCE': \{'bonus': 100000,
          'deferral\_payments': 51365,
          'deferred\_income': -200000,
          'director\_fees': 'NaN',
          'email\_address': 'NaN',
          'exercised\_stock\_options': 4160672,
          'expenses': 8409,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 156250,
          'other': 202052,
          'poi': False,
          'restricted\_stock': 201483,
          'restricted\_stock\_deferred': -140264,
          'salary': 76399,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 394475,
          'total\_stock\_value': 4221891\},
         'RICE KENNETH D': \{'bonus': 1750000,
          'deferral\_payments': 'NaN',
          'deferred\_income': -3504386,
          'director\_fees': 'NaN',
          'email\_address': 'ken.rice@enron.com',
          'exercised\_stock\_options': 19794175,
          'expenses': 46950,
          'from\_messages': 18,
          'from\_poi\_to\_this\_person': 42,
          'from\_this\_person\_to\_poi': 4,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 1617011,
          'other': 174839,
          'poi': True,
          'restricted\_stock': 2748364,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 420636,
          'shared\_receipt\_with\_poi': 864,
          'to\_messages': 905,
          'total\_payments': 505050,
          'total\_stock\_value': 22542539\},
         'RIEKER PAULA H': \{'bonus': 700000,
          'deferral\_payments': 214678,
          'deferred\_income': -100000,
          'director\_fees': 'NaN',
          'email\_address': 'paula.rieker@enron.com',
          'exercised\_stock\_options': 1635238,
          'expenses': 33271,
          'from\_messages': 82,
          'from\_poi\_to\_this\_person': 35,
          'from\_this\_person\_to\_poi': 48,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 1950,
          'poi': True,
          'restricted\_stock': 283649,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 249201,
          'shared\_receipt\_with\_poi': 1258,
          'to\_messages': 1328,
          'total\_payments': 1099100,
          'total\_stock\_value': 1918887\},
         'SAVAGE FRANK': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': -121284,
          'director\_fees': 125034,
          'email\_address': 'NaN',
          'exercised\_stock\_options': 'NaN',
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 3750,
          'total\_stock\_value': 'NaN'\},
         'SCRIMSHAW MATTHEW': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'matthew.scrimshaw@enron.com',
          'exercised\_stock\_options': 759557,
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 'NaN',
          'total\_stock\_value': 759557\},
         'SHANKMAN JEFFREY A': \{'bonus': 2000000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'jeffrey.shankman@enron.com',
          'exercised\_stock\_options': 1441898,
          'expenses': 178979,
          'from\_messages': 2681,
          'from\_poi\_to\_this\_person': 94,
          'from\_this\_person\_to\_poi': 83,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 554422,
          'other': 1191,
          'poi': False,
          'restricted\_stock': 630137,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 304110,
          'shared\_receipt\_with\_poi': 1730,
          'to\_messages': 3221,
          'total\_payments': 3038702,
          'total\_stock\_value': 2072035\},
         'SHAPIRO RICHARD S': \{'bonus': 650000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'richard.shapiro@enron.com',
          'exercised\_stock\_options': 607837,
          'expenses': 137767,
          'from\_messages': 1215,
          'from\_poi\_to\_this\_person': 74,
          'from\_this\_person\_to\_poi': 65,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 705,
          'poi': False,
          'restricted\_stock': 379164,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 269076,
          'shared\_receipt\_with\_poi': 4527,
          'to\_messages': 15149,
          'total\_payments': 1057548,
          'total\_stock\_value': 987001\},
         'SHARP VICTORIA T': \{'bonus': 600000,
          'deferral\_payments': 187469,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'vicki.sharp@enron.com',
          'exercised\_stock\_options': 281073,
          'expenses': 116337,
          'from\_messages': 136,
          'from\_poi\_to\_this\_person': 24,
          'from\_this\_person\_to\_poi': 6,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 422158,
          'other': 2401,
          'poi': False,
          'restricted\_stock': 213063,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 248146,
          'shared\_receipt\_with\_poi': 2477,
          'to\_messages': 3136,
          'total\_payments': 1576511,
          'total\_stock\_value': 494136\},
         'SHELBY REX': \{'bonus': 200000,
          'deferral\_payments': 'NaN',
          'deferred\_income': -4167,
          'director\_fees': 'NaN',
          'email\_address': 'rex.shelby@enron.com',
          'exercised\_stock\_options': 1624396,
          'expenses': 22884,
          'from\_messages': 39,
          'from\_poi\_to\_this\_person': 13,
          'from\_this\_person\_to\_poi': 14,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 1573324,
          'poi': True,
          'restricted\_stock': 869220,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 211844,
          'shared\_receipt\_with\_poi': 91,
          'to\_messages': 225,
          'total\_payments': 2003885,
          'total\_stock\_value': 2493616\},
         'SHERRICK JEFFREY B': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'jeffrey.sherrick@enron.com',
          'exercised\_stock\_options': 1426469,
          'expenses': 'NaN',
          'from\_messages': 25,
          'from\_poi\_to\_this\_person': 39,
          'from\_this\_person\_to\_poi': 18,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 405999,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 583,
          'to\_messages': 613,
          'total\_payments': 'NaN',
          'total\_stock\_value': 1832468\},
         'SHERRIFF JOHN R': \{'bonus': 1500000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'john.sherriff@enron.com',
          'exercised\_stock\_options': 1835558,
          'expenses': 'NaN',
          'from\_messages': 92,
          'from\_poi\_to\_this\_person': 28,
          'from\_this\_person\_to\_poi': 23,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 554422,
          'other': 1852186,
          'poi': False,
          'restricted\_stock': 1293424,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 428780,
          'shared\_receipt\_with\_poi': 2103,
          'to\_messages': 3187,
          'total\_payments': 4335388,
          'total\_stock\_value': 3128982\},
         'SKILLING JEFFREY K': \{'bonus': 5600000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'jeff.skilling@enron.com',
          'exercised\_stock\_options': 19250000,
          'expenses': 29336,
          'from\_messages': 108,
          'from\_poi\_to\_this\_person': 88,
          'from\_this\_person\_to\_poi': 30,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 1920000,
          'other': 22122,
          'poi': True,
          'restricted\_stock': 6843672,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 1111258,
          'shared\_receipt\_with\_poi': 2042,
          'to\_messages': 3627,
          'total\_payments': 8682716,
          'total\_stock\_value': 26093672\},
         'STABLER FRANK': \{'bonus': 500000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'frank.stabler@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 16514,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 356071,
          'poi': False,
          'restricted\_stock': 511734,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 239502,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 1112087,
          'total\_stock\_value': 511734\},
         'SULLIVAN-SHAKLOVITZ COLLEEN': \{'bonus': 100000,
          'deferral\_payments': 181993,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'NaN',
          'exercised\_stock\_options': 1362375,
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 554422,
          'other': 162,
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 162779,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 999356,
          'total\_stock\_value': 1362375\},
         'SUNDE MARTIN': \{'bonus': 700000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'marty.sunde@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 'NaN',
          'from\_messages': 38,
          'from\_poi\_to\_this\_person': 37,
          'from\_this\_person\_to\_poi': 13,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 476451,
          'other': 111122,
          'poi': False,
          'restricted\_stock': 698920,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 257486,
          'shared\_receipt\_with\_poi': 2565,
          'to\_messages': 2647,
          'total\_payments': 1545059,
          'total\_stock\_value': 698920\},
         'TAYLOR MITCHELL S': \{'bonus': 600000,
          'deferral\_payments': 227449,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'mitchell.taylor@enron.com',
          'exercised\_stock\_options': 3181250,
          'expenses': 'NaN',
          'from\_messages': 29,
          'from\_poi\_to\_this\_person': 0,
          'from\_this\_person\_to\_poi': 0,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 563798,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 265214,
          'shared\_receipt\_with\_poi': 300,
          'to\_messages': 533,
          'total\_payments': 1092663,
          'total\_stock\_value': 3745048\},
         'THE TRAVEL AGENCY IN THE PARK': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'NaN',
          'exercised\_stock\_options': 'NaN',
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 362096,
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 362096,
          'total\_stock\_value': 'NaN'\},
         'THORN TERENCE H': \{'bonus': 'NaN',
          'deferral\_payments': 16586,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'terence.thorn@enron.com',
          'exercised\_stock\_options': 4452476,
          'expenses': 46145,
          'from\_messages': 41,
          'from\_poi\_to\_this\_person': 0,
          'from\_this\_person\_to\_poi': 0,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 200000,
          'other': 426629,
          'poi': False,
          'restricted\_stock': 365320,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 222093,
          'shared\_receipt\_with\_poi': 73,
          'to\_messages': 266,
          'total\_payments': 911453,
          'total\_stock\_value': 4817796\},
         'TILNEY ELIZABETH A': \{'bonus': 300000,
          'deferral\_payments': 'NaN',
          'deferred\_income': -575000,
          'director\_fees': 'NaN',
          'email\_address': 'elizabeth.tilney@enron.com',
          'exercised\_stock\_options': 591250,
          'expenses': 'NaN',
          'from\_messages': 19,
          'from\_poi\_to\_this\_person': 10,
          'from\_this\_person\_to\_poi': 11,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 275000,
          'other': 152055,
          'poi': False,
          'restricted\_stock': 576792,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 247338,
          'shared\_receipt\_with\_poi': 379,
          'to\_messages': 460,
          'total\_payments': 399393,
          'total\_stock\_value': 1168042\},
         'TOTAL': \{'bonus': 97343619,
          'deferral\_payments': 32083396,
          'deferred\_income': -27992891,
          'director\_fees': 1398517,
          'email\_address': 'NaN',
          'exercised\_stock\_options': 311764000,
          'expenses': 5235198,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 83925000,
          'long\_term\_incentive': 48521928,
          'other': 42667589,
          'poi': False,
          'restricted\_stock': 130322299,
          'restricted\_stock\_deferred': -7576788,
          'salary': 26704229,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 309886585,
          'total\_stock\_value': 434509511\},
         'UMANOFF ADAM S': \{'bonus': 788750,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'adam.umanoff@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 53122,
          'from\_messages': 18,
          'from\_poi\_to\_this\_person': 12,
          'from\_this\_person\_to\_poi': 0,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 288589,
          'shared\_receipt\_with\_poi': 41,
          'to\_messages': 111,
          'total\_payments': 1130461,
          'total\_stock\_value': 'NaN'\},
         'URQUHART JOHN A': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': -36666,
          'director\_fees': 36666,
          'email\_address': 'NaN',
          'exercised\_stock\_options': 'NaN',
          'expenses': 228656,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 228656,
          'total\_stock\_value': 'NaN'\},
         'WAKEHAM JOHN': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 109298,
          'email\_address': 'NaN',
          'exercised\_stock\_options': 'NaN',
          'expenses': 103773,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 213071,
          'total\_stock\_value': 'NaN'\},
         'WALLS JR ROBERT H': \{'bonus': 850000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'rob.walls@enron.com',
          'exercised\_stock\_options': 4346544,
          'expenses': 50936,
          'from\_messages': 146,
          'from\_poi\_to\_this\_person': 17,
          'from\_this\_person\_to\_poi': 0,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 540751,
          'other': 2,
          'poi': False,
          'restricted\_stock': 1552453,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 357091,
          'shared\_receipt\_with\_poi': 215,
          'to\_messages': 671,
          'total\_payments': 1798780,
          'total\_stock\_value': 5898997\},
         'WALTERS GARETH W': \{'bonus': 'NaN',
          'deferral\_payments': 53625,
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'NaN',
          'exercised\_stock\_options': 1030329,
          'expenses': 33785,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 87410,
          'total\_stock\_value': 1030329\},
         'WASAFF GEORGE': \{'bonus': 325000,
          'deferral\_payments': 831299,
          'deferred\_income': -583325,
          'director\_fees': 'NaN',
          'email\_address': 'george.wasaff@enron.com',
          'exercised\_stock\_options': 1668260,
          'expenses': 'NaN',
          'from\_messages': 30,
          'from\_poi\_to\_this\_person': 22,
          'from\_this\_person\_to\_poi': 7,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 200000,
          'other': 1425,
          'poi': False,
          'restricted\_stock': 388167,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 259996,
          'shared\_receipt\_with\_poi': 337,
          'to\_messages': 400,
          'total\_payments': 1034395,
          'total\_stock\_value': 2056427\},
         'WESTFAHL RICHARD K': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': -10800,
          'director\_fees': 'NaN',
          'email\_address': 'dick.westfahl@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 51870,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 256191,
          'other': 401130,
          'poi': False,
          'restricted\_stock': 384930,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 63744,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 762135,
          'total\_stock\_value': 384930\},
         'WHALEY DAVID A': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'NaN',
          'exercised\_stock\_options': 98718,
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 'NaN',
          'total\_stock\_value': 98718\},
         'WHALLEY LAWRENCE G': \{'bonus': 3000000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'greg.whalley@enron.com',
          'exercised\_stock\_options': 3282960,
          'expenses': 57838,
          'from\_messages': 556,
          'from\_poi\_to\_this\_person': 186,
          'from\_this\_person\_to\_poi': 24,
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 808346,
          'other': 301026,
          'poi': False,
          'restricted\_stock': 2796177,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 510364,
          'shared\_receipt\_with\_poi': 3920,
          'to\_messages': 6019,
          'total\_payments': 4677574,
          'total\_stock\_value': 6079137\},
         'WHITE JR THOMAS E': \{'bonus': 450000,
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'thomas.white@enron.com',
          'exercised\_stock\_options': 1297049,
          'expenses': 81353,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 1085463,
          'poi': False,
          'restricted\_stock': 13847074,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 317543,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 1934359,
          'total\_stock\_value': 15144123\},
         'WINOKUR JR. HERBERT S': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': -25000,
          'director\_fees': 108579,
          'email\_address': 'NaN',
          'exercised\_stock\_options': 'NaN',
          'expenses': 1413,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 84992,
          'total\_stock\_value': 'NaN'\},
         'WODRASKA JOHN': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'john.wodraska@enron.com',
          'exercised\_stock\_options': 'NaN',
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 189583,
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 189583,
          'total\_stock\_value': 'NaN'\},
         'WROBEL BRUCE': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'NaN',
          'exercised\_stock\_options': 139130,
          'expenses': 'NaN',
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 'NaN',
          'total\_stock\_value': 139130\},
         'YEAGER F SCOTT': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'scott.yeager@enron.com',
          'exercised\_stock\_options': 8308552,
          'expenses': 53947,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 147950,
          'poi': True,
          'restricted\_stock': 3576206,
          'restricted\_stock\_deferred': 'NaN',
          'salary': 158403,
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 360300,
          'total\_stock\_value': 11884758\},
         'YEAP SOON': \{'bonus': 'NaN',
          'deferral\_payments': 'NaN',
          'deferred\_income': 'NaN',
          'director\_fees': 'NaN',
          'email\_address': 'NaN',
          'exercised\_stock\_options': 192758,
          'expenses': 55097,
          'from\_messages': 'NaN',
          'from\_poi\_to\_this\_person': 'NaN',
          'from\_this\_person\_to\_poi': 'NaN',
          'loan\_advances': 'NaN',
          'long\_term\_incentive': 'NaN',
          'other': 'NaN',
          'poi': False,
          'restricted\_stock': 'NaN',
          'restricted\_stock\_deferred': 'NaN',
          'salary': 'NaN',
          'shared\_receipt\_with\_poi': 'NaN',
          'to\_messages': 'NaN',
          'total\_payments': 55097,
          'total\_stock\_value': 192758\}\}
\end{Verbatim}
            
    Data observation is probably the most important part of any machine
learning study. In this dataset we have lots of missing values, there
should be a meaning way to handle these cases. Giving 0 for numerical
values can sometimes be a solution to this problem but this doesnt
always work. NaN can mean different things such as we dont know the
value or there is no value, these two cases are quite different. Lets
give an example, a NaN in salary field can mean, person X has a salary
and we dont know the value, or it can mean this person is not getting
paid by the company thus it is not an employee.

Lets check the people in the dataset first, there are 146 entries. But
from the lectures we already know that the entry labeled as TOTAL has
the total numbers so we need to get rid of this. So if we plot all of
the entries we can clearly see, TOTAL is an outlier.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{c+c1}{\PYZsh{}\PYZsh{} Total in the dataset}
        \PY{k}{for} \PY{n}{person} \PY{o+ow}{in} \PY{n}{data\PYZus{}dict}\PY{p}{:}
            \PY{n}{X\PYZus{}point} \PY{o}{=} \PY{n}{data\PYZus{}dict}\PY{p}{[}\PY{n}{person}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{salary}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{n}{Y\PYZus{}point} \PY{o}{=} \PY{n}{data\PYZus{}dict}\PY{p}{[}\PY{n}{person}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{bonus}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
            \PY{n}{plt}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{X\PYZus{}point}\PY{p}{,} \PY{n}{Y\PYZus{}point}\PY{p}{)}
        
        \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{salary}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bonus}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_8_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{n}{data\PYZus{}dict}\PY{o}{.}\PY{n}{pop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TOTAL}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{k+kc}{None}\PY{p}{)}\PY{p}{;}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{k}{for} \PY{n}{person} \PY{o+ow}{in} \PY{n}{data\PYZus{}dict}\PY{p}{:}
             \PY{n}{X\PYZus{}point} \PY{o}{=} \PY{n}{data\PYZus{}dict}\PY{p}{[}\PY{n}{person}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{salary}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{Y\PYZus{}point} \PY{o}{=} \PY{n}{data\PYZus{}dict}\PY{p}{[}\PY{n}{person}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{bonus}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{plt}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{X\PYZus{}point}\PY{p}{,} \PY{n}{Y\PYZus{}point}\PY{p}{)}
         
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{salary}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bonus}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_10_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \subsubsection{Outliers}\label{outliers}

Now we can do an outlier inspection, 4 dots can be clearly separated
from the rest of the data points. Inspecting those we find that those
are Skilling, Lay, Frevert, and Pickering. Two of them are the CEOs of
Enron so we need them in the dataset, I am not touching them. There are
other outliers for different rows of data, but detailed inspection shows
nothing strange so I am not changing my dataset.

    At this point we need to check to see the missing information for each
person in the dataset.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{n}{missingValues} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}
         \PY{k}{for} \PY{n}{person} \PY{o+ow}{in} \PY{n}{data\PYZus{}dict}\PY{p}{:}
             \PY{n}{n} \PY{o}{=} \PY{l+m+mi}{0}
             \PY{k}{for} \PY{n}{value} \PY{o+ow}{in} \PY{n}{data\PYZus{}dict}\PY{p}{[}\PY{n}{person}\PY{p}{]}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{:}
                 \PY{k}{if} \PY{n}{value}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NaN}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}
                     \PY{n}{n} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}
             \PY{n}{missingValues}\PY{p}{[}\PY{n}{person}\PY{p}{]} \PY{o}{=} \PY{n}{n}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{n}{missingValues}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}12}]:} \{'ALLEN PHILLIP K': 2,
          'BADUM JAMES P': 15,
          'BANNANTINE JAMES M': 5,
          'BAXTER JOHN C': 9,
          'BAY FRANKLIN R': 9,
          'BAZELIDES PHILIP J': 13,
          'BECK SALLY W': 7,
          'BELDEN TIMOTHY N': 4,
          'BELFER ROBERT': 14,
          'BERBERIAN DAVID': 13,
          'BERGSIEKER RICHARD P': 5,
          'BHATNAGAR SANJAY': 8,
          'BIBI PHILIPPE A': 5,
          'BLACHMAN JEREMY M': 5,
          'BLAKE JR. NORMAN P': 16,
          'BOWEN JR RAYMOND M': 5,
          'BROWN MICHAEL': 12,
          'BUCHANAN HAROLD G': 5,
          'BUTTS ROBERT H': 10,
          'BUY RICHARD B': 4,
          'CALGER CHRISTOPHER F': 5,
          'CARTER REBECCA C': 6,
          'CAUSEY RICHARD A': 5,
          'CHAN RONNIE': 16,
          'CHRISTODOULOU DIOMEDES': 16,
          'CLINE KENNETH W': 17,
          'COLWELL WESLEY': 5,
          'CORDES WILLIAM R': 11,
          'COX DAVID': 5,
          'CUMBERLAND MICHAEL S': 12,
          'DEFFNER JOSEPH M': 5,
          'DELAINEY DAVID W': 5,
          'DERRICK JR. JAMES V': 3,
          'DETMERING TIMOTHY J': 7,
          'DIETRICH JANET R': 5,
          'DIMICHELE RICHARD G': 10,
          'DODSON KEITH': 9,
          'DONAHUE JR JEFFREY M': 5,
          'DUNCAN JOHN H': 15,
          'DURAN WILLIAM D': 5,
          'ECHOLS JOHN B': 10,
          'ELLIOTT STEVEN': 10,
          'FALLON JAMES B': 5,
          'FASTOW ANDREW S': 10,
          'FITZGERALD JAY L': 5,
          'FOWLER PEGGY': 11,
          'FOY JOE': 10,
          'FREVERT MARK A': 2,
          'FUGH JOHN L': 16,
          'GAHN ROBERT S': 10,
          'GARLAND C KEVIN': 5,
          'GATHMANN WILLIAM D': 16,
          'GIBBS DANA R': 9,
          'GILLIS JOHN': 17,
          'GLISAN JR BEN F': 5,
          'GOLD JOSEPH': 11,
          'GRAMM WENDY L': 18,
          'GRAY RODNEY': 15,
          'HAEDICKE MARK E': 2,
          'HANNON KEVIN P': 4,
          'HAUG DAVID L': 10,
          'HAYES ROBERT E': 10,
          'HAYSLETT RODERICK J': 12,
          'HERMANN ROBERT J': 9,
          'HICKERSON GARY J': 6,
          'HIRKO JOSEPH': 13,
          'HORTON STANLEY C': 9,
          'HUGHES JAMES A': 11,
          'HUMPHREY GENE E': 8,
          'IZZO LAWRENCE L': 6,
          'JACKSON CHARLENE R': 6,
          'JAEDICKE ROBERT': 13,
          'KAMINSKI WINCENTY J': 5,
          'KEAN STEVEN J': 5,
          'KISHKILL JOSEPH G': 12,
          'KITCHEN LOUISE': 6,
          'KOENIG MARK E': 5,
          'KOPPER MICHAEL J': 11,
          'LAVORATO JOHN J': 5,
          'LAY KENNETH L': 2,
          'LEFF DANIEL P': 7,
          'LEMAISTRE CHARLES': 15,
          'LEWIS RICHARD': 12,
          'LINDHOLM TOD A': 9,
          'LOCKHART EUGENE E': 20,
          'LOWRY CHARLES P': 16,
          'MARTIN AMANDA K': 6,
          'MCCARTY DANNY J': 11,
          'MCCLELLAN GEORGE': 5,
          'MCCONNELL MICHAEL S': 5,
          'MCDONALD REBECCA': 11,
          'MCMAHON JEFFREY': 5,
          'MENDELSOHN JOHN': 16,
          'METTS MARK': 7,
          'MEYER JEROME J': 16,
          'MEYER ROCKFORD G': 9,
          'MORAN MICHAEL P': 11,
          'MORDAUNT KRISTINA M': 12,
          'MULLER MARK S': 4,
          'MURRAY JULIA H': 5,
          'NOLES JAMES L': 15,
          'OLSON CINDY K': 4,
          'OVERDYKE JR JERE C': 11,
          'PAI LOU L': 11,
          'PEREIRA PAULO V. FERRAZ': 16,
          'PICKERING MARK R': 7,
          'PIPER GREGORY F': 3,
          'PIRO JIM': 12,
          'POWERS WILLIAM': 12,
          'PRENTICE JAMES': 14,
          'REDMOND BRIAN L': 8,
          'REYNOLDS LAWRENCE': 8,
          'RICE KENNETH D': 4,
          'RIEKER PAULA H': 4,
          'SAVAGE FRANK': 17,
          'SCRIMSHAW MATTHEW': 17,
          'SHANKMAN JEFFREY A': 5,
          'SHAPIRO RICHARD S': 6,
          'SHARP VICTORIA T': 4,
          'SHELBY REX': 5,
          'SHERRICK JEFFREY B': 11,
          'SHERRIFF JOHN R': 6,
          'SKILLING JEFFREY K': 5,
          'STABLER FRANK': 12,
          'SULLIVAN-SHAKLOVITZ COLLEEN': 12,
          'SUNDE MARTIN': 7,
          'TAYLOR MITCHELL S': 7,
          'THE TRAVEL AGENCY IN THE PARK': 18,
          'THORN TERENCE H': 5,
          'TILNEY ELIZABETH A': 5,
          'UMANOFF ADAM S': 10,
          'URQUHART JOHN A': 16,
          'WAKEHAM JOHN': 17,
          'WALLS JR ROBERT H': 5,
          'WALTERS GARETH W': 15,
          'WASAFF GEORGE': 4,
          'WESTFAHL RICHARD K': 11,
          'WHALEY DAVID A': 18,
          'WHALLEY LAWRENCE G': 5,
          'WHITE JR THOMAS E': 11,
          'WINOKUR JR. HERBERT S': 16,
          'WODRASKA JOHN': 17,
          'WROBEL BRUCE': 18,
          'YEAGER F SCOTT': 12,
          'YEAP SOON': 16\}
\end{Verbatim}
            
    Checking this, we notice some notice entity, The Travel Agency in the
Park, so that is probably not a person. So I decided to remove that as
well.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{n}{data\PYZus{}dict}\PY{o}{.}\PY{n}{pop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{THE TRAVEL AGENCY IN THE PARK}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{k+kc}{None}\PY{p}{)}\PY{p}{;}
\end{Verbatim}


    Lockhart Eugene has all its information missing so we can safely remove
that as well.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{n}{data\PYZus{}dict}\PY{o}{.}\PY{n}{pop}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{LOCKHART EUGENE E}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{k+kc}{None}\PY{p}{)}\PY{p}{;}
\end{Verbatim}


    At this step, I also decided to get rid of 3 more entities with 18
missing information, I was going to remove others as well but then I
decided to stop here as missing information might be an indicator about
the involvement as well. Again I dont have any idea about the missing
data whether there is no data on hand or that data is not applicable to
the person.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{n}{data\PYZus{}dict}\PY{o}{.}\PY{n}{pop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WHALEY DAVID A}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{k+kc}{None}\PY{p}{)}\PY{p}{;}
         \PY{n}{data\PYZus{}dict}\PY{o}{.}\PY{n}{pop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WROBEL BRUCE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{k+kc}{None}\PY{p}{)}\PY{p}{;}
         \PY{n}{data\PYZus{}dict}\PY{o}{.}\PY{n}{pop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{GRAMM WENDY L}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{k+kc}{None}\PY{p}{)}\PY{p}{;}
\end{Verbatim}


    I am happy with the set of people I have on hand at this stage, but I
need to do the same study for all the data in question to see if it can
be used as a feature.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} \PY{n}{missingData} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}
         \PY{k}{for} \PY{n}{person} \PY{o+ow}{in} \PY{n}{data\PYZus{}dict}\PY{p}{:}
             \PY{k}{for} \PY{n}{key}\PY{p}{,} \PY{n}{value} \PY{o+ow}{in} \PY{n}{data\PYZus{}dict}\PY{p}{[}\PY{n}{person}\PY{p}{]}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{:}
                 \PY{k}{if} \PY{n}{value} \PY{o}{==} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{NaN}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}
                     \PY{k}{if} \PY{n}{key} \PY{o+ow}{in} \PY{n}{missingData}\PY{p}{:}
                         \PY{n}{missingData}\PY{p}{[}\PY{n}{key}\PY{p}{]} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}
                     \PY{k}{else}\PY{p}{:}
                         \PY{n}{missingData}\PY{p}{[}\PY{n}{key}\PY{p}{]} \PY{o}{=} \PY{l+m+mi}{1}
         \PY{n}{missingData}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}16}]:} \{'bonus': 59,
          'deferral\_payments': 102,
          'deferred\_income': 92,
          'director\_fees': 125,
          'email\_address': 29,
          'exercised\_stock\_options': 41,
          'expenses': 46,
          'from\_messages': 54,
          'from\_poi\_to\_this\_person': 54,
          'from\_this\_person\_to\_poi': 54,
          'loan\_advances': 137,
          'long\_term\_incentive': 75,
          'other': 49,
          'restricted\_stock': 31,
          'restricted\_stock\_deferred': 123,
          'salary': 46,
          'shared\_receipt\_with\_poi': 54,
          'to\_messages': 54,
          'total\_payments': 18,
          'total\_stock\_value': 17\}
\end{Verbatim}
            
    We are missing a lot of data from loan advances and director fees but
again missing information might mean something as well. Such as NaN in
director fees might mean the person is not a director. So at this point
I need to find a way to deal with NaN, since these are mainly numeric
data I will replace with 0.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}17}]:} \PY{n}{fieldsToRemove} \PY{o}{=} \PY{p}{[}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bonus}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{deferral\PYZus{}payments}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{deferred\PYZus{}income}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{director\PYZus{}fees}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{exercised\PYZus{}stock\PYZus{}options}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{expenses}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{loan\PYZus{}advances}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{long\PYZus{}term\PYZus{}incentive}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{other}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{restricted\PYZus{}stock}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{restricted\PYZus{}stock\PYZus{}deferred}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{salary}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}   
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total\PYZus{}payments}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total\PYZus{}stock\PYZus{}value}\PY{l+s+s2}{\PYZdq{}}
         \PY{p}{]}
         
         \PY{k}{for} \PY{n}{field} \PY{o+ow}{in} \PY{n}{fieldsToRemove}\PY{p}{:}
             \PY{k}{for} \PY{n}{person} \PY{o+ow}{in} \PY{n}{data\PYZus{}dict}\PY{p}{:}
                 \PY{k}{if} \PY{n}{data\PYZus{}dict}\PY{p}{[}\PY{n}{person}\PY{p}{]}\PY{p}{[}\PY{n}{field}\PY{p}{]} \PY{o}{==} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{NaN}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}
                     \PY{n}{data\PYZus{}dict}\PY{p}{[}\PY{n}{person}\PY{p}{]}\PY{p}{[}\PY{n}{field}\PY{p}{]} \PY{o}{=} \PY{l+m+mi}{0}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}18}]:} \PY{c+c1}{\PYZsh{}\PYZsh{} Convert to Pandas DataFrame}
         \PY{n}{dataPD} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{data\PYZus{}dict}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}19}]:} \PY{c+c1}{\PYZsh{}\PYZsh{} Transpose}
         \PY{n}{dataPD2} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{)}
         \PY{n}{dataPD2} \PY{o}{=} \PY{n}{dataPD}\PY{o}{.}\PY{n}{transpose}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}17}]:} \PY{c+c1}{\PYZsh{} dataPD2.boxplot(column=[\PYZsq{}from\PYZus{}messages\PYZsq{}])}
         \PY{n}{df}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{bonus}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{dataPD2}
         \PY{c+c1}{\PYZsh{} plt.boxplot(dataPD2)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]

        ---------------------------------------------------------------------------

        NameError                                 Traceback (most recent call last)

        <ipython-input-17-36debba8029c> in <module>()
          1 \# dataPD2.boxplot(column=['from\_messages'])
    ----> 2 df.boxplot(column='bonus')
          3 dataPD2
          4 \# plt.boxplot(dataPD2)


        NameError: name 'df' is not defined

    \end{Verbatim}

    \subsection{Features}\label{features}

\begin{quote}
What features did you end up using in your POI identifier, and what
selection process did you use to pick them? Did you have to do any
scaling? Why or why not? As part of the assignment, you should attempt
to engineer your own feature that does not come ready-made in the
dataset -\/- explain what feature you tried to make, and the rationale
behind it. (You do not necessarily have to use it in the final analysis,
only engineer and test it.) In your feature selection step, if you used
an algorithm like a decision tree, please also give the feature
importances of the features that you use, and if you used an automated
feature selection function like SelectKBest, please report the feature
scores and reasons for your choice of parameter values. {[}relevant
rubric items: ``create new features'', ``intelligently select
features'', ``properly scale features''{]}
\end{quote}

I will demonstrate my process in choosing the features I will use for my
machine learning experiment. I will start with all the features to try
first, then I will tweak my feature set to see the improvement.

\subsubsection{1st Stage}\label{st-stage}

My first feature set for the first stage;

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}20}]:} \PY{n}{feature1} \PY{o}{=} \PY{p}{[}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{poi}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{salary}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{deferral\PYZus{}payments}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total\PYZus{}payments}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{loan\PYZus{}advances}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bonus}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{restricted\PYZus{}stock\PYZus{}deferred}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{deferred\PYZus{}income}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total\PYZus{}stock\PYZus{}value}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{expenses}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{exercised\PYZus{}stock\PYZus{}options}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{other}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{long\PYZus{}term\PYZus{}incentive}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{restricted\PYZus{}stock}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{director\PYZus{}fees}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{to\PYZus{}messages}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{from\PYZus{}poi\PYZus{}to\PYZus{}this\PYZus{}person}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{from\PYZus{}messages}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{from\PYZus{}this\PYZus{}person\PYZus{}to\PYZus{}poi}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{shared\PYZus{}receipt\PYZus{}with\PYZus{}poi}\PY{l+s+s2}{\PYZdq{}}
         \PY{p}{]}
\end{Verbatim}


    I will test my classifiers by using the tester function. I will use Ada
Boost, Naive Bayes, SVC(linear)

    \subsection{Adaboost}\label{adaboost}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}21}]:} \PY{n}{adaBoostClass} \PY{o}{=} \PY{n}{AdaBoostClassifier}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}22}]:} \PY{k+kn}{import} \PY{n+nn}{tester}
         \PY{n}{tester}\PY{o}{.}\PY{n}{test\PYZus{}classifier}\PY{p}{(}\PY{n}{adaBoostClass}\PY{p}{,} \PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{feature1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
AdaBoostClassifier(algorithm='SAMME.R', base\_estimator=None,
          learning\_rate=1.0, n\_estimators=50, random\_state=None)
	Accuracy: 0.83243	Precision: 0.38295	Recall: 0.28300	F1: 0.32547	F2: 0.29859
	Total predictions: 14000	True positives:  566	False positives:  912	False negatives: 1434	True negatives: 11088


    \end{Verbatim}

    \subsection{Naive Bayes}\label{naive-bayes}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}27}]:} \PY{n}{naiveBayesClass} \PY{o}{=} \PY{n}{GaussianNB}\PY{p}{(}\PY{p}{)}
         \PY{n}{tester}\PY{o}{.}\PY{n}{test\PYZus{}classifier}\PY{p}{(}\PY{n}{naiveBayesClass}\PY{p}{,} \PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{feature1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
GaussianNB(priors=None)
	Accuracy: 0.72014	Precision: 0.22171	Recall: 0.38200	F1: 0.28057	F2: 0.33374
	Total predictions: 14000	True positives:  764	False positives: 2682	False negatives: 1236	True negatives: 9318


    \end{Verbatim}

    \subsection{SVC}\label{svc}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}28}]:} \PY{n}{SVCClass} \PY{o}{=} \PY{n}{SVC}\PY{p}{(}\PY{n}{kernel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{linear}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{max\PYZus{}iter}\PY{o}{=}\PY{l+m+mi}{1000}\PY{p}{)}
         \PY{n}{tester}\PY{o}{.}\PY{n}{test\PYZus{}classifier}\PY{p}{(}\PY{n}{SVCClass}\PY{p}{,}\PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{feature1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
/anaconda3/envs/udacityPy3/lib/python3.6/site-packages/sklearn/svm/base.py:218: ConvergenceWarning: Solver terminated early (max\_iter=1000).  Consider pre-processing your data with StandardScaler or MinMaxScaler.
  \% self.max\_iter, ConvergenceWarning)

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
SVC(C=1.0, cache\_size=200, class\_weight=None, coef0=0.0,
  decision\_function\_shape='ovr', degree=3, gamma='auto', kernel='linear',
  max\_iter=1000, probability=False, random\_state=None, shrinking=True,
  tol=0.001, verbose=False)
	Accuracy: 0.49636	Precision: 0.14762	Recall: 0.52900	F1: 0.23083	F2: 0.34878
	Total predictions: 14000	True positives: 1058	False positives: 6109	False negatives:  942	True negatives: 5891


    \end{Verbatim}

    \begin{longtable}[]{@{}llll@{}}
\toprule
& Naive Bayes & SVC & Ada Boost\tabularnewline
\midrule
\endhead
Accuracy & 0.72 & 0.49 & 0.83\tabularnewline
Precision & 0.22 & 0.14 & 0.38\tabularnewline
Recall & 0.38 & 0.52 & 0.28\tabularnewline
\bottomrule
\end{longtable}

    As one can guess without much 'engineering' on the features, algorithms
I use are not very accurate, only Ada Boost is acceptable for accuracy.

    \subsubsection{2nd Stage}\label{nd-stage}

With the base results on hand lets tweak the feature set we use in the
training. Some of the features are missing quite a bit of values thus it
is not very helpfult to have them. I will remove loan\_advances,
restricted\_stock\_deferred, director\_fees, and deferral\_payments.
This decision is just human intution, I havent yet tried K-best.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}29}]:} \PY{n}{feature2} \PY{o}{=} \PY{p}{[}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{poi}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{salary}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total\PYZus{}payments}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bonus}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{deferred\PYZus{}income}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total\PYZus{}stock\PYZus{}value}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{expenses}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{exercised\PYZus{}stock\PYZus{}options}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{other}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{long\PYZus{}term\PYZus{}incentive}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{restricted\PYZus{}stock}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{to\PYZus{}messages}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{from\PYZus{}poi\PYZus{}to\PYZus{}this\PYZus{}person}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{from\PYZus{}messages}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{from\PYZus{}this\PYZus{}person\PYZus{}to\PYZus{}poi}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{shared\PYZus{}receipt\PYZus{}with\PYZus{}poi}\PY{l+s+s2}{\PYZdq{}}
         \PY{p}{]}
\end{Verbatim}


    \subsection{Ada Boost}\label{ada-boost}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}30}]:} \PY{n}{tester}\PY{o}{.}\PY{n}{test\PYZus{}classifier}\PY{p}{(}\PY{n}{adaBoostClass}\PY{p}{,} \PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{feature2}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
AdaBoostClassifier(algorithm='SAMME.R', base\_estimator=None,
          learning\_rate=1.0, n\_estimators=50, random\_state=None)
	Accuracy: 0.83271	Precision: 0.38523	Recall: 0.28700	F1: 0.32894	F2: 0.30242
	Total predictions: 14000	True positives:  574	False positives:  916	False negatives: 1426	True negatives: 11084


    \end{Verbatim}

    \subsection{Naive Bayes}\label{naive-bayes}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}31}]:} \PY{n}{tester}\PY{o}{.}\PY{n}{test\PYZus{}classifier}\PY{p}{(}\PY{n}{naiveBayesClass}\PY{p}{,} \PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{feature2}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
GaussianNB(priors=None)
	Accuracy: 0.82186	Precision: 0.34126	Recall: 0.26550	F1: 0.29865	F2: 0.27784
	Total predictions: 14000	True positives:  531	False positives: 1025	False negatives: 1469	True negatives: 10975


    \end{Verbatim}

    \subsection{SVC}\label{svc}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}32}]:} \PY{n}{tester}\PY{o}{.}\PY{n}{test\PYZus{}classifier}\PY{p}{(}\PY{n}{SVCClass}\PY{p}{,}\PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{feature2}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
/anaconda3/envs/udacityPy3/lib/python3.6/site-packages/sklearn/svm/base.py:218: ConvergenceWarning: Solver terminated early (max\_iter=1000).  Consider pre-processing your data with StandardScaler or MinMaxScaler.
  \% self.max\_iter, ConvergenceWarning)

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
SVC(C=1.0, cache\_size=200, class\_weight=None, coef0=0.0,
  decision\_function\_shape='ovr', degree=3, gamma='auto', kernel='linear',
  max\_iter=1000, probability=False, random\_state=None, shrinking=True,
  tol=0.001, verbose=False)
	Accuracy: 0.50900	Precision: 0.15763	Recall: 0.56100	F1: 0.24611	F2: 0.37108
	Total predictions: 14000	True positives: 1122	False positives: 5996	False negatives:  878	True negatives: 6004


    \end{Verbatim}

    \begin{longtable}[]{@{}llll@{}}
\toprule
& Naive Bayes & SVC & Ada Boost\tabularnewline
\midrule
\endhead
Accuracy & 0.82 & 0.50 & 0.83\tabularnewline
Precision & 0.34 & 0.15 & 0.38\tabularnewline
Recall & 0.26 & 0.56 & 0.28\tabularnewline
\bottomrule
\end{longtable}

    In 2nd stage, with an easy change we see that accuracy of Naive Bayes
algorithm increased 10 percent. This proves in class discussion of 'less
might be more' in terms of features being used.

    \subsubsection{3rd Stage}\label{rd-stage}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}33}]:} \PY{k}{def} \PY{n+nf}{feat\PYZus{}eng}\PY{p}{(}\PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{feat1}\PY{p}{,} \PY{n}{feat2}\PY{p}{,} \PY{n}{newfeat}\PY{p}{)}\PY{p}{:}
             \PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}}
         \PY{l+s+sd}{    Creates a new feature by using 2 existing features}
         \PY{l+s+sd}{    Args:}
         \PY{l+s+sd}{    data\PYZus{}dict: dictionary of data}
         \PY{l+s+sd}{    feat1: feature 1}
         \PY{l+s+sd}{    feat2: feature 2}
         \PY{l+s+sd}{    newfeat: new feature}
         \PY{l+s+sd}{    Output: dictionary of the new feature}
         \PY{l+s+sd}{    \PYZdq{}\PYZdq{}\PYZdq{}}
             \PY{k}{for} \PY{n}{person} \PY{o+ow}{in} \PY{n}{data\PYZus{}dict}\PY{p}{:}
                 \PY{k}{if} \PY{n}{data\PYZus{}dict}\PY{p}{[}\PY{n}{person}\PY{p}{]}\PY{p}{[}\PY{n}{feat2}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{0}\PY{p}{:}
                     \PY{n}{data\PYZus{}dict}\PY{p}{[}\PY{n}{person}\PY{p}{]}\PY{p}{[}\PY{n}{newfeat}\PY{p}{]} \PY{o}{=} \PY{l+m+mf}{0.0}
                 \PY{k}{elif} \PY{n}{data\PYZus{}dict}\PY{p}{[}\PY{n}{person}\PY{p}{]}\PY{p}{[}\PY{n}{feat1}\PY{p}{]} \PY{o}{==} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{NaN}\PY{l+s+s2}{\PYZdq{}} \PY{o+ow}{or} \PY{n}{data\PYZus{}dict}\PY{p}{[}\PY{n}{person}\PY{p}{]}\PY{p}{[}\PY{n}{feat2}\PY{p}{]} \PY{o}{==} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{NaN}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}
                     \PY{n}{data\PYZus{}dict}\PY{p}{[}\PY{n}{person}\PY{p}{]}\PY{p}{[}\PY{n}{newfeat}\PY{p}{]} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{NaN}\PY{l+s+s2}{\PYZdq{}}
                 \PY{k}{else}\PY{p}{:}
                     \PY{n}{data\PYZus{}dict}\PY{p}{[}\PY{n}{person}\PY{p}{]}\PY{p}{[}\PY{n}{newfeat}\PY{p}{]} \PY{o}{=} \PY{n+nb}{float}\PY{p}{(}\PY{n}{data\PYZus{}dict}\PY{p}{[}\PY{n}{person}\PY{p}{]}\PY{p}{[}\PY{n}{feat1}\PY{p}{]}\PY{p}{)} \PY{o}{/} \PY{n+nb}{float}\PY{p}{(}\PY{n}{data\PYZus{}dict}\PY{p}{[}\PY{n}{person}\PY{p}{]}\PY{p}{[}\PY{n}{feat2}\PY{p}{]}\PY{p}{)}
         
             \PY{k}{return} \PY{n}{data\PYZus{}dict}
\end{Verbatim}


    I will add new features that will identify better POIs in Enron.

\textbf{Financial}\\
bonus\_rate -\textgreater{} bonus / total payment\\
salary\_rate -\textgreater{} salary / total payment\\
stock\_rate -\textgreater{} total\_stock\_value / total payment

\textbf{Email}\\
from\_rate -\textgreater{} from\_this\_person\_to\_poi /
from\_messages\\
to\_rate -\textgreater{} from\_poi\_to\_this\_person / to messages

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}34}]:} \PY{n}{data\PYZus{}dict} \PY{o}{=} \PY{n}{feat\PYZus{}eng}\PY{p}{(}\PY{n}{data\PYZus{}dict}\PY{p}{,}
                                               \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bonus}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
                                               \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total\PYZus{}payments}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
                                               \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bonus\PYZus{}rate}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         \PY{n}{data\PYZus{}dict} \PY{o}{=} \PY{n}{feat\PYZus{}eng}\PY{p}{(}\PY{n}{data\PYZus{}dict}\PY{p}{,}
                                               \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{salary}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
                                               \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total\PYZus{}payments}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
                                               \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{salary\PYZus{}rate}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         \PY{n}{data\PYZus{}dict} \PY{o}{=} \PY{n}{feat\PYZus{}eng}\PY{p}{(}\PY{n}{data\PYZus{}dict}\PY{p}{,}
                                               \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total\PYZus{}stock\PYZus{}value}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
                                               \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total\PYZus{}payments}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
                                               \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{stock\PYZus{}rate}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         \PY{n}{data\PYZus{}dict} \PY{o}{=} \PY{n}{feat\PYZus{}eng}\PY{p}{(}\PY{n}{data\PYZus{}dict}\PY{p}{,}
                                               \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{from\PYZus{}this\PYZus{}person\PYZus{}to\PYZus{}poi}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
                                               \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{from\PYZus{}messages}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
                                               \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{from\PYZus{}rate}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
         \PY{n}{data\PYZus{}dict} \PY{o}{=} \PY{n}{feat\PYZus{}eng}\PY{p}{(}\PY{n}{data\PYZus{}dict}\PY{p}{,}
                                               \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{from\PYZus{}poi\PYZus{}to\PYZus{}this\PYZus{}person}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
                                               \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{to\PYZus{}messages}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
                                               \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{to\PYZus{}rate}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}35}]:} \PY{n}{feature3} \PY{o}{=} \PY{p}{[}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{poi}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{salary}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{deferral\PYZus{}payments}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total\PYZus{}payments}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{loan\PYZus{}advances}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bonus}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{restricted\PYZus{}stock\PYZus{}deferred}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{deferred\PYZus{}income}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total\PYZus{}stock\PYZus{}value}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{expenses}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{exercised\PYZus{}stock\PYZus{}options}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{other}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{long\PYZus{}term\PYZus{}incentive}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{restricted\PYZus{}stock}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{director\PYZus{}fees}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{to\PYZus{}messages}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{from\PYZus{}poi\PYZus{}to\PYZus{}this\PYZus{}person}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{from\PYZus{}messages}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{from\PYZus{}this\PYZus{}person\PYZus{}to\PYZus{}poi}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{shared\PYZus{}receipt\PYZus{}with\PYZus{}poi}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bonus\PYZus{}rate}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{salary\PYZus{}rate}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{stock\PYZus{}rate}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{from\PYZus{}rate}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{to\PYZus{}rate}\PY{l+s+s2}{\PYZdq{}}
         \PY{p}{]}
\end{Verbatim}


    \subsection{Ada Boost}\label{ada-boost}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}89}]:} \PY{n}{tester}\PY{o}{.}\PY{n}{test\PYZus{}classifier}\PY{p}{(}\PY{n}{adaBoostClass}\PY{p}{,} \PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{feature3}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
AdaBoostClassifier(algorithm='SAMME.R', base\_estimator=None,
          learning\_rate=1.0, n\_estimators=50, random\_state=None)
	Accuracy: 0.83729	Precision: 0.40466	Recall: 0.29500	F1: 0.34124	F2: 0.31191
	Total predictions: 14000	True positives:  590	False positives:  868	False negatives: 1410	True negatives: 11132


    \end{Verbatim}

    \subsection{Naive Bayes}\label{naive-bayes}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}37}]:} \PY{n}{tester}\PY{o}{.}\PY{n}{test\PYZus{}classifier}\PY{p}{(}\PY{n}{naiveBayesClass}\PY{p}{,} \PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{feature3}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
GaussianNB(priors=None)
	Accuracy: 0.70250	Precision: 0.21920	Recall: 0.42250	F1: 0.28864	F2: 0.35639
	Total predictions: 14000	True positives:  845	False positives: 3010	False negatives: 1155	True negatives: 8990


    \end{Verbatim}

    \subsection{SVC}\label{svc}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}38}]:} \PY{n}{tester}\PY{o}{.}\PY{n}{test\PYZus{}classifier}\PY{p}{(}\PY{n}{SVCClass}\PY{p}{,}\PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{feature3}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
/anaconda3/envs/udacityPy3/lib/python3.6/site-packages/sklearn/svm/base.py:218: ConvergenceWarning: Solver terminated early (max\_iter=1000).  Consider pre-processing your data with StandardScaler or MinMaxScaler.
  \% self.max\_iter, ConvergenceWarning)

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
SVC(C=1.0, cache\_size=200, class\_weight=None, coef0=0.0,
  decision\_function\_shape='ovr', degree=3, gamma='auto', kernel='linear',
  max\_iter=1000, probability=False, random\_state=None, shrinking=True,
  tol=0.001, verbose=False)
	Accuracy: 0.49636	Precision: 0.14772	Recall: 0.52950	F1: 0.23100	F2: 0.34907
	Total predictions: 14000	True positives: 1059	False positives: 6110	False negatives:  941	True negatives: 5890


    \end{Verbatim}

    \begin{longtable}[]{@{}llll@{}}
\toprule
& Naive Bayes & SVC & Ada Boost\tabularnewline
\midrule
\endhead
Accuracy & 0.70 & 0.49 & 0.84\tabularnewline
Precision & 0.21 & 0.14 & 0.40\tabularnewline
Recall & 0.42 & 0.52 & 0.29\tabularnewline
\bottomrule
\end{longtable}

    We havent seen much change, in this stage, but with Ada Boost, we are
almost in the acceptable levels. It is surprising to see SVC is quite
bad in accuracy. My guess here we need to play with the parameters to
get better performance which I will leave it to the last stage.

    \subsection{4th Stage - K-best}\label{th-stage---k-best}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}39}]:} \PY{k}{def} \PY{n+nf}{kbest}\PY{p}{(}\PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{features\PYZus{}list}\PY{p}{)}\PY{p}{:}
             \PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}}
         \PY{l+s+sd}{    Selects the best features}
         \PY{l+s+sd}{    Args:}
         \PY{l+s+sd}{    data\PYZus{}dict: dictionary of data}
         \PY{l+s+sd}{    features: list of features }
         \PY{l+s+sd}{    Output: dictionary of the new feature}
         \PY{l+s+sd}{    \PYZdq{}\PYZdq{}\PYZdq{}}
             \PY{n}{data} \PY{o}{=} \PY{n}{featureFormat}\PY{p}{(}\PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{features\PYZus{}list}\PY{p}{,} \PY{n}{sort\PYZus{}keys}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
             \PY{c+c1}{\PYZsh{} Split labels (poi) from other features}
             \PY{n}{targets}\PY{p}{,} \PY{n}{features} \PY{o}{=} \PY{n}{targetFeatureSplit}\PY{p}{(}\PY{n}{data}\PY{p}{)}
         
             \PY{c+c1}{\PYZsh{} Set up the scaler}
             \PY{n}{minmax\PYZus{}scaler} \PY{o}{=} \PY{n}{preprocessing}\PY{o}{.}\PY{n}{MinMaxScaler}\PY{p}{(}\PY{p}{)}
             \PY{n}{features\PYZus{}minmax} \PY{o}{=} \PY{n}{minmax\PYZus{}scaler}\PY{o}{.}\PY{n}{fit\PYZus{}transform}\PY{p}{(}\PY{n}{features}\PY{p}{)}
         
             \PY{c+c1}{\PYZsh{} k is selected 10 \PYZhy{}\PYZhy{}}
             \PY{n}{k\PYZus{}best} \PY{o}{=} \PY{n}{SelectKBest}\PY{p}{(}\PY{n}{chi2}\PY{p}{,} \PY{n}{k}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}
         
             \PY{c+c1}{\PYZsh{} Use the instance to extract the k best features}
             \PY{n}{features\PYZus{}kbest} \PY{o}{=} \PY{n}{k\PYZus{}best}\PY{o}{.}\PY{n}{fit\PYZus{}transform}\PY{p}{(}\PY{n}{features\PYZus{}minmax}\PY{p}{,} \PY{n}{targets}\PY{p}{)}
         
             \PY{n}{scores} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZpc{}.2f}\PY{l+s+s1}{\PYZsq{}} \PY{o}{\PYZpc{}} \PY{n}{elem} \PY{k}{for} \PY{n}{elem} \PY{o+ow}{in} \PY{n}{k\PYZus{}best}\PY{o}{.}\PY{n}{scores\PYZus{}}\PY{p}{]}
         
             \PY{c+c1}{\PYZsh{} Round the values}
             \PY{n}{feature\PYZus{}scores\PYZus{}pvalues} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZpc{}.3f}\PY{l+s+s1}{\PYZsq{}} \PY{o}{\PYZpc{}} \PY{n}{elem} \PY{k}{for} \PY{n}{elem} \PY{o+ow}{in} \PY{n}{k\PYZus{}best}\PY{o}{.}\PY{n}{pvalues\PYZus{}}\PY{p}{]}
         
             \PY{c+c1}{\PYZsh{} Create an array of feature names, scores and pvalues}
             \PY{n}{k\PYZus{}features} \PY{o}{=} \PY{p}{[}\PY{p}{(}\PY{n}{features\PYZus{}list}\PY{p}{[}\PY{n}{i}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,}
                            \PY{n}{scores}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,}
                            \PY{n}{feature\PYZus{}scores\PYZus{}pvalues}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n}{k\PYZus{}best}\PY{o}{.}\PY{n}{get\PYZus{}support}\PY{p}{(}\PY{n}{indices}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}\PY{p}{]}
         
             \PY{c+c1}{\PYZsh{} Sort the array by score}
             \PY{n}{k\PYZus{}features} \PY{o}{=} \PY{n+nb}{sorted}\PY{p}{(}\PY{n}{k\PYZus{}features}\PY{p}{,} \PY{n}{key}\PY{o}{=}\PY{k}{lambda} \PY{n}{f}\PY{p}{:} \PY{n+nb}{float}\PY{p}{(}\PY{n}{f}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}\PY{p}{)}
             \PY{n+nb}{print} \PY{p}{(}\PY{n}{k\PYZus{}features}\PY{p}{)}
         
         
             \PY{k}{return}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}40}]:} \PY{n}{kbest}\PY{p}{(}\PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{feature1}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
[('director\_fees', '1.41', '0.235'), ('other', '1.64', '0.200'), ('shared\_receipt\_with\_poi', '2.28', '0.131'), ('long\_term\_incentive', '2.42', '0.120'), ('total\_payments', '2.69', '0.101'), ('salary', '2.86', '0.091'), ('bonus', '4.90', '0.027'), ('total\_stock\_value', '5.28', '0.022'), ('loan\_advances', '6.53', '0.011'), ('exercised\_stock\_options', '6.61', '0.010')]

    \end{Verbatim}

    We got the list of best features to use, so we create our feature list
like in our previous trials.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}41}]:} \PY{n}{featuresKBest} \PY{o}{=} \PY{p}{[}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{poi}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{director\PYZus{}fees}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{other}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{shared\PYZus{}receipt\PYZus{}with\PYZus{}poi}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{long\PYZus{}term\PYZus{}incentive}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total\PYZus{}payments}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{salary}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bonus}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total\PYZus{}stock\PYZus{}value}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{loan\PYZus{}advances}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{exercised\PYZus{}stock\PYZus{}options}\PY{l+s+s2}{\PYZdq{}}
         \PY{p}{]}
\end{Verbatim}


    \subsection{Ada Boost}\label{ada-boost}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}42}]:} \PY{n}{tester}\PY{o}{.}\PY{n}{test\PYZus{}classifier}\PY{p}{(}\PY{n}{adaBoostClass}\PY{p}{,} \PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{featuresKBest}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
AdaBoostClassifier(algorithm='SAMME.R', base\_estimator=None,
          learning\_rate=1.0, n\_estimators=50, random\_state=None)
	Accuracy: 0.82129	Precision: 0.29888	Recall: 0.18650	F1: 0.22968	F2: 0.20167
	Total predictions: 14000	True positives:  373	False positives:  875	False negatives: 1627	True negatives: 11125


    \end{Verbatim}

    \subsection{Naive Bayes}\label{naive-bayes}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}43}]:} \PY{n}{tester}\PY{o}{.}\PY{n}{test\PYZus{}classifier}\PY{p}{(}\PY{n}{naiveBayesClass}\PY{p}{,} \PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{featuresKBest}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
GaussianNB(priors=None)
	Accuracy: 0.76064	Precision: 0.20694	Recall: 0.23850	F1: 0.22160	F2: 0.23144
	Total predictions: 14000	True positives:  477	False positives: 1828	False negatives: 1523	True negatives: 10172


    \end{Verbatim}

    \subsection{SVC}\label{svc}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}44}]:} \PY{n}{tester}\PY{o}{.}\PY{n}{test\PYZus{}classifier}\PY{p}{(}\PY{n}{SVCClass}\PY{p}{,}\PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{featuresKBest}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
/anaconda3/envs/udacityPy3/lib/python3.6/site-packages/sklearn/svm/base.py:218: ConvergenceWarning: Solver terminated early (max\_iter=1000).  Consider pre-processing your data with StandardScaler or MinMaxScaler.
  \% self.max\_iter, ConvergenceWarning)

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
SVC(C=1.0, cache\_size=200, class\_weight=None, coef0=0.0,
  decision\_function\_shape='ovr', degree=3, gamma='auto', kernel='linear',
  max\_iter=1000, probability=False, random\_state=None, shrinking=True,
  tol=0.001, verbose=False)
	Accuracy: 0.50757	Precision: 0.15241	Recall: 0.53650	F1: 0.23739	F2: 0.35672
	Total predictions: 14000	True positives: 1073	False positives: 5967	False negatives:  927	True negatives: 6033


    \end{Verbatim}

    \begin{longtable}[]{@{}llll@{}}
\toprule
& Ada Boost & Naive Bayes & SVC\tabularnewline
\midrule
\endhead
Accuracy & 0.82 & 0.76 & 0.50\tabularnewline
Precision & 0.29 & 0.20 & 0.15\tabularnewline
Recall & 0.18 & 0.23 & 0.53\tabularnewline
\bottomrule
\end{longtable}

    Again this step didnt change the situation much, we even saw some fall
in Ada Boost. So we should continue.

    \subsection{5th Stage - Feature
Scaling}\label{th-stage---feature-scaling}

    We should use feature scaling to increase the accuracy, as mentioned in
documentation of StandartScaler object in scikit.
http://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html

\begin{quote}
For instance many elements used in the objective function of a learning
algorithm (such as the RBF kernel of Support Vector Machines or the L1
and L2 regularizers of linear models) assume that all features are
centered around 0 and have variance in the same order. If a feature has
a variance that is orders of magnitude larger that others, it might
dominate the objective function and make the estimator unable to learn
from other features correctly as expected.
\end{quote}

More info is on this paper;
https://www.csie.ntu.edu.tw/\textasciitilde{}cjlin/papers/guide/guide.pdf

Examples were in this website,
http://scikit-learn.org/stable/auto\_examples/ensemble/plot\_forest\_importances.html

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}86}]:} \PY{k}{def} \PY{n+nf}{feature\PYZus{}scalars}\PY{p}{(}\PY{n}{d}\PY{p}{,} \PY{n}{features\PYZus{}list}\PY{p}{,} \PY{n}{test\PYZus{}size}\PY{p}{,} \PY{n}{random\PYZus{}state}\PY{o}{=}\PY{l+m+mi}{42}\PY{p}{)}\PY{p}{:}
             \PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}}
         \PY{l+s+sd}{    Gives every feature a scalar}
         \PY{l+s+sd}{    \PYZdq{}\PYZdq{}\PYZdq{}}
             \PY{n}{data} \PY{o}{=} \PY{n}{featureFormat}\PY{p}{(}\PY{n}{d}\PY{p}{,} \PY{n}{features\PYZus{}list}\PY{p}{,} \PY{n}{sort\PYZus{}keys}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
             \PY{c+c1}{\PYZsh{} Split between labels (poi) and the rest of features}
             \PY{n}{target}\PY{p}{,} \PY{n}{features} \PY{o}{=} \PY{n}{targetFeatureSplit}\PY{p}{(}\PY{n}{data}\PY{p}{)}
         
             \PY{c+c1}{\PYZsh{} Create both training and test sets through split\PYZus{}data()}
             \PY{n}{features\PYZus{}train}\PY{p}{,} \PY{n}{features\PYZus{}test}\PY{p}{,} \PY{n}{labels\PYZus{}train}\PY{p}{,} \PY{n}{labels\PYZus{}test} \PY{o}{=} \PY{n}{train\PYZus{}test\PYZus{}split}\PY{p}{(}
                 \PY{n}{features}\PY{p}{,}
                 \PY{n}{target}\PY{p}{,}
                 \PY{n}{test\PYZus{}size}\PY{o}{=}\PY{n}{test\PYZus{}size}\PY{p}{,}
                 \PY{n}{random\PYZus{}state}\PY{o}{=}\PY{n}{random\PYZus{}state}\PY{p}{)}
                 
             \PY{n}{classifier} \PY{o}{=} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ADA}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{SVC}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
             \PY{k}{for} \PY{n}{c} \PY{o+ow}{in} \PY{n}{classifier}\PY{p}{:}
                 \PY{k}{if} \PY{n}{c} \PY{o}{==} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ADA}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}
                     \PY{n}{clf} \PY{o}{=} \PY{n}{AdaBoostClassifier}\PY{p}{(}\PY{p}{)}
                 \PY{k}{elif} \PY{n}{c} \PY{o}{==} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{SVM}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}
                     \PY{n}{clf} \PY{o}{=} \PY{n}{SVC}\PY{p}{(}\PY{n}{kernel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{linear}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{max\PYZus{}iter}\PY{o}{=}\PY{l+m+mi}{1000}\PY{p}{)}
         
                 \PY{n}{result} \PY{o}{=} \PY{p}{[}\PY{p}{]}
                 \PY{n}{clf}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{features\PYZus{}train}\PY{p}{,} \PY{n}{labels\PYZus{}train}\PY{p}{)}
                 \PY{n}{pred} \PY{o}{=} \PY{n}{clf}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{features\PYZus{}test}\PY{p}{)}
                 \PY{n}{importances} \PY{o}{=} \PY{n}{clf}\PY{o}{.}\PY{n}{feature\PYZus{}importances\PYZus{}}
         
                 \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{importances}\PY{p}{)}\PY{p}{)}\PY{p}{:}
                     \PY{n}{t} \PY{o}{=} \PY{p}{[}\PY{n}{features\PYZus{}list}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{importances}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{]}
                     \PY{n}{result}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{t}\PY{p}{)}
         
                 \PY{n}{result} \PY{o}{=} \PY{n+nb}{sorted}\PY{p}{(}\PY{n}{result}\PY{p}{,} \PY{n}{key}\PY{o}{=}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{n}{reverse}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
         
                 \PY{n+nb}{print} \PY{p}{(}\PY{n}{result}\PY{p}{)}
         
         
             \PY{k}{return} \PY{k+kc}{None}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}87}]:} \PY{n}{feature\PYZus{}scalars}\PY{p}{(}\PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{feature3}\PY{p}{,} \PY{l+m+mf}{0.35}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
[['total\_stock\_value', 0.20000000000000001], ['expenses', 0.12], ['poi', 0.10000000000000001], ['loan\_advances', 0.10000000000000001], ['exercised\_stock\_options', 0.080000000000000002], ['deferral\_payments', 0.059999999999999998], ['from\_this\_person\_to\_poi', 0.059999999999999998], ['salary\_rate', 0.059999999999999998], ['stock\_rate', 0.059999999999999998], ['long\_term\_incentive', 0.040000000000000001], ['bonus\_rate', 0.040000000000000001], ['restricted\_stock\_deferred', 0.02], ['deferred\_income', 0.02], ['other', 0.02], ['shared\_receipt\_with\_poi', 0.02], ['salary', 0.0], ['total\_payments', 0.0], ['bonus', 0.0], ['restricted\_stock', 0.0], ['director\_fees', 0.0], ['to\_messages', 0.0], ['from\_poi\_to\_this\_person', 0.0], ['from\_messages', 0.0], ['from\_rate', 0.0]]
[['total\_stock\_value', 0.20000000000000001], ['expenses', 0.12], ['poi', 0.10000000000000001], ['loan\_advances', 0.10000000000000001], ['exercised\_stock\_options', 0.080000000000000002], ['deferral\_payments', 0.059999999999999998], ['from\_this\_person\_to\_poi', 0.059999999999999998], ['salary\_rate', 0.059999999999999998], ['stock\_rate', 0.059999999999999998], ['long\_term\_incentive', 0.040000000000000001], ['bonus\_rate', 0.040000000000000001], ['restricted\_stock\_deferred', 0.02], ['deferred\_income', 0.02], ['other', 0.02], ['shared\_receipt\_with\_poi', 0.02], ['salary', 0.0], ['total\_payments', 0.0], ['bonus', 0.0], ['restricted\_stock', 0.0], ['director\_fees', 0.0], ['to\_messages', 0.0], ['from\_poi\_to\_this\_person', 0.0], ['from\_messages', 0.0], ['from\_rate', 0.0]]
[['total\_stock\_value', 0.20000000000000001], ['expenses', 0.12], ['poi', 0.10000000000000001], ['loan\_advances', 0.10000000000000001], ['exercised\_stock\_options', 0.080000000000000002], ['deferral\_payments', 0.059999999999999998], ['from\_this\_person\_to\_poi', 0.059999999999999998], ['salary\_rate', 0.059999999999999998], ['stock\_rate', 0.059999999999999998], ['long\_term\_incentive', 0.040000000000000001], ['bonus\_rate', 0.040000000000000001], ['restricted\_stock\_deferred', 0.02], ['deferred\_income', 0.02], ['other', 0.02], ['shared\_receipt\_with\_poi', 0.02], ['salary', 0.0], ['total\_payments', 0.0], ['bonus', 0.0], ['restricted\_stock', 0.0], ['director\_fees', 0.0], ['to\_messages', 0.0], ['from\_poi\_to\_this\_person', 0.0], ['from\_messages', 0.0], ['from\_rate', 0.0]]

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}48}]:} \PY{n}{feature4SVC} \PY{o}{=} \PY{p}{[}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{poi}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{salary}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{deferral\PYZus{}payments}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{loan\PYZus{}advances}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{restricted\PYZus{}stock\PYZus{}deferred}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total\PYZus{}stock\PYZus{}value}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{exercised\PYZus{}stock\PYZus{}options}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{other}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{long\PYZus{}term\PYZus{}incentive}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{director\PYZus{}fees}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{to\PYZus{}messages}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{from\PYZus{}poi\PYZus{}to\PYZus{}this\PYZus{}person}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{from\PYZus{}messages}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{from\PYZus{}this\PYZus{}person\PYZus{}to\PYZus{}poi}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{shared\PYZus{}receipt\PYZus{}with\PYZus{}poi}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{bonus\PYZus{}rate}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{salary\PYZus{}rate}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{stock\PYZus{}rate}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{from\PYZus{}rate}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}
             \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{to\PYZus{}rate}\PY{l+s+s2}{\PYZdq{}}
         \PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}47}]:} \PY{n}{clf\PYZus{}SVC} \PY{o}{=} \PY{n}{SVC}\PY{p}{(}\PY{n}{kernel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{linear}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{max\PYZus{}iter}\PY{o}{=}\PY{l+m+mi}{1000}\PY{p}{)}
         \PY{n}{tester}\PY{o}{.}\PY{n}{test\PYZus{}classifier}\PY{p}{(}\PY{n}{clf\PYZus{}SVC}\PY{p}{,} \PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{feature4SVC}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
/anaconda3/envs/udacityPy3/lib/python3.6/site-packages/sklearn/svm/base.py:218: ConvergenceWarning: Solver terminated early (max\_iter=1000).  Consider pre-processing your data with StandardScaler or MinMaxScaler.
  \% self.max\_iter, ConvergenceWarning)

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
SVC(C=1.0, cache\_size=200, class\_weight=None, coef0=0.0,
  decision\_function\_shape='ovr', degree=3, gamma='auto', kernel='linear',
  max\_iter=1000, probability=False, random\_state=None, shrinking=True,
  tol=0.001, verbose=False)
	Accuracy: 0.39936	Precision: 0.12769	Recall: 0.54950	F1: 0.20722	F2: 0.33088
	Total predictions: 14000	True positives: 1099	False positives: 7508	False negatives:  901	True negatives: 4492


    \end{Verbatim}

    This step, I didnt apply on Naive Bayes as it doesnt have
features\_importances\_ value. Now in the last two stages I am more
focussed on SVC, as I am guessing parameter flexibility of SVM will give
me better results this stage. So the results this stage for SVC is,
Accuracy ==\textgreater{} 39.93\% Precision ==\textgreater{} 12.76\% and
Recall ==\textgreater{}54.95\%

    \subsection{Last Stage - Tuning}\label{last-stage---tuning}

At this stage I am going to fine tune parameters of SVC algorithm. For
this, GridSearchCV and Pipeline will be used. Tuning parameters should
greatly increases the accuracy of a model, but there is always the
danger of overfitting. To avoid this we need to always train and test
the model, to get a benchmark of how well is the model doing.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}49}]:} \PY{k}{def} \PY{n+nf}{tune\PYZus{}SVC}\PY{p}{(}\PY{n}{d}\PY{p}{,} \PY{n}{features\PYZus{}list}\PY{p}{,} \PY{n}{scaler}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}\PY{p}{:}
             \PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}}
         \PY{l+s+sd}{    Prints the results of tuning process.}
         \PY{l+s+sd}{    \PYZdq{}\PYZdq{}\PYZdq{}}
             \PY{c+c1}{\PYZsh{} Strip the values}
             \PY{n}{data} \PY{o}{=} \PY{n}{featureFormat}\PY{p}{(}\PY{n}{d}\PY{p}{,} \PY{n}{features\PYZus{}list}\PY{p}{,} \PY{n}{sort\PYZus{}keys}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
             \PY{c+c1}{\PYZsh{} Split between labels (poi) and the rest of features}
             \PY{n}{labels}\PY{p}{,} \PY{n}{features} \PY{o}{=} \PY{n}{targetFeatureSplit}\PY{p}{(}\PY{n}{data}\PY{p}{)}
         
             \PY{n}{svm} \PY{o}{=} \PY{n}{Pipeline}\PY{p}{(}\PY{p}{[}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{scaler}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{StandardScaler}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{svm}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{SVC}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{]}\PY{p}{)}
         
             \PY{n}{parameters} \PY{o}{=} \PY{p}{(}\PY{p}{[}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{svm\PYZus{}\PYZus{}C}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{50}\PY{p}{,} \PY{l+m+mi}{100}\PY{p}{,} \PY{l+m+mi}{1000}\PY{p}{]}\PY{p}{,}
                             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{svm\PYZus{}\PYZus{}gamma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{l+m+mf}{0.5}\PY{p}{,} \PY{l+m+mf}{0.1}\PY{p}{,} \PY{l+m+mf}{0.01}\PY{p}{]}\PY{p}{,}
                             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{svm\PYZus{}\PYZus{}degree}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{]}\PY{p}{,}
                             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{svm\PYZus{}\PYZus{}kernel}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rbf}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poly}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{linear}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
                             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{svm\PYZus{}\PYZus{}max\PYZus{}iter}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{100}\PY{p}{,} \PY{l+m+mi}{1000}\PY{p}{]}\PY{p}{\PYZcb{}}\PY{p}{]}\PY{p}{)}
         
             \PY{n}{svm\PYZus{}clf} \PY{o}{=} \PY{n}{GridSearchCV}\PY{p}{(}\PY{n}{svm}\PY{p}{,}
                                    \PY{n}{parameters}\PY{p}{,}
                                    \PY{n}{scoring}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{f1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}
                                    \PY{n}{features}\PY{p}{,} \PY{n}{labels}\PY{p}{)}\PY{o}{.}\PY{n}{best\PYZus{}estimator\PYZus{}}
             
             \PY{n}{warnings}\PY{o}{.}\PY{n}{filterwarnings}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ignore}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Solver terminated early.*}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             \PY{n}{tester}\PY{o}{.}\PY{n}{test\PYZus{}classifier}\PY{p}{(}\PY{n}{svm\PYZus{}clf}\PY{p}{,} \PY{n}{d}\PY{p}{,} \PY{n}{features\PYZus{}list}\PY{p}{)}
         
             \PY{k}{return} \PY{k+kc}{None}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}50}]:} \PY{k+kn}{import} \PY{n+nn}{warnings}
         \PY{n}{warnings}\PY{o}{.}\PY{n}{filterwarnings}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ignore}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{tune\PYZus{}SVC}\PY{p}{(}\PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{feature4SVC}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Pipeline(memory=None,
     steps=[('scaler', StandardScaler(copy=True, with\_mean=True, with\_std=True)), ('svm', SVC(C=50, cache\_size=200, class\_weight=None, coef0=0.0,
  decision\_function\_shape='ovr', degree=2, gamma=0.1, kernel='poly',
  max\_iter=100, probability=False, random\_state=None, shrinking=True,
  tol=0.001, verbose=False))])
	Accuracy: 0.80336	Precision: 0.32545	Recall: 0.35100	F1: 0.33774	F2: 0.34557
	Total predictions: 14000	True positives:  702	False positives: 1455	False negatives: 1298	True negatives: 10545


    \end{Verbatim}

    \begin{quote}
What algorithm did you end up using? What other one(s) did you try? How
did model performance differ between algorithms? {[}relevant rubric
item: ``pick an algorithm''{]}
\end{quote}

\begin{quote}
What does it mean to tune the parameters of an algorithm, and what can
happen if you don't do this well? How did you tune the parameters of
your particular algorithm? What parameters did you tune? (Some
algorithms do not have parameters that you need to tune -\/- if this is
the case for the one you picked, identify and briefly explain how you
would have done it for the model that was not your final choice or a
different model that does utilize parameter tuning, e.g. a decision tree
classifier). {[}relevant rubric items: ``discuss parameter tuning'',
``tune the algorithm''{]}
\end{quote}

After running GridSearchCV, scikit optimized parameters for best
accuracy in SVM. Unlike my trials best kernel happens to be poly, and
other parameters are like this; SVC(C=50, cache\_size=200,
class\_weight=None, coef0=0.0, decision\_function\_shape='ovr',
degree=2, gamma=0.1, kernel='poly', max\_iter=100, probability=False,
random\_state=None, shrinking=True, tol=0.001, verbose=False)

So with this step, now our models is much more accurate;
Accuracy==\textgreater{} 80.3\% Precision ==\textgreater{}32.5\% and
Recall==\textgreater{}35\%

These results are quite good, thus this will be my last model.

As I mentioned earlier a 'very much' tuned algorithm can be overfitting
the data so a data scientist should alway check with some other data to
ensure, the model works. So when I validate the results with different
numbers of sets they are;

METRICS FOR TEST SIZE OF: 0.2 * Accuracy: 0.785714285714 * Precision:
0.333333333333 * R0ecall: 0.2

METRICS FOR TEST SIZE OF: 0.4 * Accuracy: 0.839285714286 * Precision:
0.6 * R0ecall: 0.3

METRICS FOR TEST SIZE OF: 0.6 * Accuracy: 0.821428571429 * Precision:
0.4375 * R0ecall: 0.538461538462

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}88}]:} \PY{k}{def} \PY{n+nf}{get\PYZus{}svc}\PY{p}{(}\PY{n}{d}\PY{p}{,} \PY{n}{features\PYZus{}list}\PY{p}{)}\PY{p}{:}
             \PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}}
         \PY{l+s+sd}{    Generates the classifier for final submission.}
         \PY{l+s+sd}{    \PYZdq{}\PYZdq{}\PYZdq{}}
             \PY{c+c1}{\PYZsh{} Keep only the values from features\PYZus{}list}
             \PY{n}{data} \PY{o}{=} \PY{n}{featureFormat}\PY{p}{(}\PY{n}{d}\PY{p}{,} \PY{n}{features\PYZus{}list}\PY{p}{,} \PY{n}{sort\PYZus{}keys}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
             \PY{c+c1}{\PYZsh{} Split between labels (poi) and the rest of features}
             \PY{n}{labels}\PY{p}{,} \PY{n}{features} \PY{o}{=} \PY{n}{targetFeatureSplit}\PY{p}{(}\PY{n}{data}\PY{p}{)}
         
             \PY{n}{svm} \PY{o}{=} \PY{n}{Pipeline}\PY{p}{(}\PY{p}{[}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{scaler}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{StandardScaler}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{svm}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{SVC}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{]}\PY{p}{)}
         
             \PY{n}{parameters} \PY{o}{=} \PY{p}{(}\PY{p}{[}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{svm\PYZus{}\PYZus{}C}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{l+m+mi}{50}\PY{p}{]}\PY{p}{,}
                             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{svm\PYZus{}\PYZus{}gamma}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{l+m+mf}{0.1}\PY{p}{]}\PY{p}{,}
                             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{svm\PYZus{}\PYZus{}degree}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{l+m+mi}{2}\PY{p}{]}\PY{p}{,}
                             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{svm\PYZus{}\PYZus{}kernel}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{poly}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
                             \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{svm\PYZus{}\PYZus{}max\PYZus{}iter}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{l+m+mi}{100}\PY{p}{]}\PY{p}{\PYZcb{}}\PY{p}{]}\PY{p}{)}
         
             \PY{n}{svm\PYZus{}clf} \PY{o}{=} \PY{n}{GridSearchCV}\PY{p}{(}\PY{n}{svm}\PY{p}{,}
                                    \PY{n}{parameters}\PY{p}{,}
                                    \PY{n}{scoring}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{f1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}
                                    \PY{n}{features}\PY{p}{,} \PY{n}{labels}\PY{p}{)}\PY{o}{.}\PY{n}{best\PYZus{}estimator\PYZus{}}
         
             \PY{k}{return} \PY{n}{svm\PYZus{}clf}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}62}]:} \PY{n}{my\PYZus{}clf} \PY{o}{=} \PY{n}{get\PYZus{}svc}\PY{p}{(}\PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{feature4SVC}\PY{p}{)}
         \PY{n}{my\PYZus{}dataset} \PY{o}{=} \PY{n}{data\PYZus{}dict}
         \PY{n}{my\PYZus{}features} \PY{o}{=} \PY{n}{feature4SVC}
         
         \PY{n}{dump\PYZus{}classifier\PYZus{}and\PYZus{}data}\PY{p}{(}\PY{n}{my\PYZus{}clf}\PY{p}{,} \PY{n}{my\PYZus{}dataset}\PY{p}{,} \PY{n}{my\PYZus{}features}\PY{p}{)}
         
         \PY{n}{test\PYZus{}clf}\PY{p}{(}\PY{n}{data\PYZus{}dict}\PY{p}{,} \PY{n}{feature4SVC}\PY{p}{,} \PY{n}{random\PYZus{}state}\PY{o}{=}\PY{l+m+mi}{42}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
\# METRICS FOR TEST SIZE OF: 0.2
* Accuracy: 0.785714285714
* Precision: 0.333333333333
* R0ecall: 0.2


\# METRICS FOR TEST SIZE OF: 0.4
* Accuracy: 0.839285714286
* Precision: 0.6
* R0ecall: 0.3


\# METRICS FOR TEST SIZE OF: 0.6
* Accuracy: 0.821428571429
* Precision: 0.4375
* R0ecall: 0.538461538462



    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}61}]:} \PY{k}{def} \PY{n+nf}{test\PYZus{}clf}\PY{p}{(}\PY{n}{d}\PY{p}{,} \PY{n}{features\PYZus{}list}\PY{p}{,} \PY{n}{random\PYZus{}state}\PY{o}{=}\PY{l+m+mi}{42}\PY{p}{)}\PY{p}{:}
             \PY{l+s+sd}{\PYZdq{}\PYZdq{}\PYZdq{}}
         \PY{l+s+sd}{    Returns test results}
         \PY{l+s+sd}{    \PYZdq{}\PYZdq{}\PYZdq{}}
             \PY{c+c1}{\PYZsh{} Keep only the values from features\PYZus{}list}
             \PY{n}{data} \PY{o}{=} \PY{n}{featureFormat}\PY{p}{(}\PY{n}{d}\PY{p}{,} \PY{n}{features\PYZus{}list}\PY{p}{,} \PY{n}{sort\PYZus{}keys}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
             \PY{c+c1}{\PYZsh{} Split between labels (poi) and the rest of features}
             \PY{n}{labels}\PY{p}{,} \PY{n}{features} \PY{o}{=} \PY{n}{targetFeatureSplit}\PY{p}{(}\PY{n}{data}\PY{p}{)}
         
             \PY{n}{test\PYZus{}sizes} \PY{o}{=} \PY{p}{[}\PY{l+m+mf}{0.2}\PY{p}{,} \PY{l+m+mf}{0.4}\PY{p}{,} \PY{l+m+mf}{0.6}\PY{p}{]}
         
             \PY{k}{for} \PY{n}{test\PYZus{}size} \PY{o+ow}{in} \PY{n}{test\PYZus{}sizes}\PY{p}{:}
                 \PY{c+c1}{\PYZsh{} Create both training and test sets through split\PYZus{}data()}
                 \PY{n}{features\PYZus{}train}\PY{p}{,} \PY{n}{features\PYZus{}test}\PY{p}{,} \PY{n}{labels\PYZus{}train}\PY{p}{,} \PY{n}{labels\PYZus{}test} \PY{o}{=} \PY{n}{train\PYZus{}test\PYZus{}split}\PY{p}{(}
                     \PY{n}{features}\PY{p}{,}
                     \PY{n}{labels}\PY{p}{,}
                     \PY{n}{test\PYZus{}size}\PY{o}{=}\PY{n}{test\PYZus{}size}\PY{p}{,}
                     \PY{n}{random\PYZus{}state}\PY{o}{=}\PY{n}{random\PYZus{}state}\PY{p}{)}
         
                 \PY{n}{clf} \PY{o}{=} \PY{n}{get\PYZus{}svc}\PY{p}{(}\PY{n}{d}\PY{p}{,} \PY{n}{features\PYZus{}list}\PY{p}{)}
         
                 \PY{n}{clf}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{features\PYZus{}train}\PY{p}{,} \PY{n}{labels\PYZus{}train}\PY{p}{)}
                 \PY{n}{pred} \PY{o}{=} \PY{n}{clf}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{features\PYZus{}test}\PY{p}{)}
         
                 \PY{n+nb}{print} \PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZsh{} METRICS FOR TEST SIZE OF:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{test\PYZus{}size}\PY{p}{)}
                 \PY{n}{acc} \PY{o}{=} \PY{n}{accuracy\PYZus{}score}\PY{p}{(}\PY{n}{labels\PYZus{}test}\PY{p}{,} \PY{n}{pred}\PY{p}{)}
                 \PY{n+nb}{print} \PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{* Accuracy:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{acc}\PY{p}{)}
         
                 \PY{n}{pre} \PY{o}{=} \PY{n}{precision\PYZus{}score}\PY{p}{(}\PY{n}{labels\PYZus{}test}\PY{p}{,} \PY{n}{pred}\PY{p}{)}
                 \PY{n+nb}{print} \PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{* Precision:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{pre}\PY{p}{)}
         
                 \PY{n}{rec} \PY{o}{=} \PY{n}{recall\PYZus{}score}\PY{p}{(}\PY{n}{labels\PYZus{}test}\PY{p}{,} \PY{n}{pred}\PY{p}{)}
                 \PY{n+nb}{print} \PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{* Recall:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{rec}\PY{p}{)}
                 \PY{n+nb}{print} \PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         
             \PY{k}{return}
\end{Verbatim}


    \subsection{Conclusion}\label{conclusion}

\begin{quote}
What is validation, and what's a classic mistake you can make if you do
it wrong? How did you validate your analysis? {[}relevant rubric items:
``discuss validation'', ``validation strategy''{]}
\end{quote}

\begin{quote}
Give at least 2 evaluation metrics and your average performance for each
of them. Explain an interpretation of your metrics that says something
human-understandable about your algorithm's performance. {[}relevant
rubric item: ``usage of evaluation metrics''{]}
\end{quote}

After ensuring that I am not overfitting my model, I can safely assume I
have a good model that can estimate POI in Enron.

In my model I mainly used 3 metrics, accuracy, recall and Precision.

\paragraph{Accuracy}\label{accuracy}

Accuracy is the ratio of the model finding the right person associated
with the label. Although it is the main metric I checked, and I wanted
at least around 80 percent to call it a good model. Accuracy can be
misleading in skewed populations, meaning there is a big difference in
numbers of labels.

\paragraph{Recall}\label{recall}

Is the ratio of correctly identified labels, in the population of
objects picked by the model as labels. For example, number of correctly
identified POI within the group of all entities labelled by POI by the
model(correctly or incorrectly). So looking at our metric almost one
third of the POI is actually POI.

\paragraph{Precision}\label{precision}

Precision is the ratio of chances of someone being actually POI if it is
labelled as POI, so it is like the level of certainity within the subset
of labelled entities.

This was a very hard assignment which took months of work and I wathced
every lecture at least twice. And there were so many possibilities or
options to do this work. But because of time constraints and me being a
noob in the area gave me this work. Some of the codes parts I checked
from the web, as there are many scikit examples online. The only
dissapointment was I wasnt very succesful in using DataFrames in scikit.
Also there was some time observations I have made such as Ada being very
slow and SVC being quite efficient. So I am also happy about the results
in terms of efficiency.

    \subsection{Resources}\label{resources}

http://scikit-learn.org/stable/auto\_examples/plot\_compare\_reduction.html\#sphx-glr-auto-examples-plot-compare-reduction-py

http://scikit-learn.org/stable/auto\_examples/feature\_selection/plot\_rfe\_with\_cross\_validation.html

https://machinelearningmastery.com/feature-importance-and-feature-selection-with-xgboost-in-python/


    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
